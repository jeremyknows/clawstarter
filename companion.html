<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Step-by-step wizard for setting up OpenClaw on your Mac. One step at a time.">
<title>ClawStarter Setup Wizard - Your OpenClaw Setup Guide</title>

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://clawstarter.xyz/companion">
<meta property="og:title" content="ClawStarter Setup Wizard - Your OpenClaw Setup Guide">
<meta property="og:description" content="Step-by-step wizard for setting up OpenClaw. One step at a time.">
<meta property="og:image" content="https://clawstarter.xyz/clawstarter-video-thumbnail.png">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://clawstarter.xyz/companion">
<meta property="twitter:title" content="ClawStarter Setup Wizard - Your OpenClaw Setup Guide">
<meta property="twitter:description" content="Step-by-step wizard for setting up OpenClaw on your Mac.">
<meta property="twitter:image" content="https://clawstarter.xyz/clawstarter-video-thumbnail.png">

<link rel="icon" type="image/png" href="favicon.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     RESET
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  body { min-height: 100vh; overflow-x: hidden; }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     DESIGN TOKENS â€” Glacial Depths Palette (EXACT match)
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  :root {
    --sp-1: 4px;
    --sp-2: 8px;
    --sp-3: 12px;
    --sp-4: 16px;
    --sp-6: 24px;
    --sp-8: 32px;
    --sp-12: 48px;
    --sp-16: 64px;

    --font-display: 'DM Sans', system-ui, -apple-system, sans-serif;
    --font-mono: 'Space Mono', ui-monospace, monospace;

    --r-sm: 6px;
    --r-md: 10px;
    --r-lg: 16px;
    --r-xl: 24px;
    --r-pill: 100px;

    --ease-out: cubic-bezier(0.22, 1, 0.36, 1);
    --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  [data-theme="dark"] {
    --bg-base: hsl(172, 12%, 6%);
    --bg-raised: hsl(172, 10%, 9%);
    --bg-card: hsl(172, 8%, 12%);
    --bg-card-hover: hsl(172, 8%, 14%);
    --bg-nav: hsla(172, 12%, 6%, 0.92);

    --text-primary: hsl(168, 15%, 92%);
    --text-heading: hsl(165, 20%, 96%);
    --text-secondary: hsl(170, 8%, 72%);
    --text-tertiary: hsl(170, 6%, 52%);
    --text-emphasis: hsl(168, 20%, 98%);
    --text-code: hsl(168, 76%, 62%);

    --accent: hsl(168, 76%, 52%);
    --accent-hover: hsl(168, 76%, 62%);
    --accent-muted: hsl(168, 40%, 22%);
    --accent-subtle: hsl(168, 30%, 14%);
    --accent-text: hsl(172, 30%, 6%);
    --accent-glow: hsla(168, 76%, 52%, 0.25);

    --border: hsl(170, 6%, 18%);
    --border-subtle: hsl(170, 6%, 14%);
    --border-accent: hsl(168, 40%, 28%);

    --shadow-sm: 0 2px 4px hsla(172, 20%, 2%, 0.3), 0 1px 2px hsla(172, 20%, 2%, 0.2);
    --shadow-md: 0 4px 8px hsla(172, 20%, 2%, 0.3), 0 2px 4px hsla(172, 20%, 2%, 0.2);
    --shadow-lg: 0 12px 24px hsla(172, 20%, 2%, 0.4), 0 4px 8px hsla(172, 20%, 2%, 0.2);
    --shadow-glow: 0 0 48px hsla(168, 76%, 52%, 0.15), 0 0 16px hsla(168, 76%, 52%, 0.1);
  }

  [data-theme="light"] {
    --bg-base: hsl(168, 20%, 97%);
    --bg-raised: hsl(168, 15%, 94%);
    --bg-card: hsl(168, 10%, 99%);
    --bg-card-hover: hsl(168, 12%, 96%);
    --bg-nav: hsla(168, 20%, 97%, 0.92);

    --text-primary: hsl(172, 15%, 15%);
    --text-heading: hsl(172, 20%, 8%);
    --text-secondary: hsl(170, 8%, 38%);
    --text-tertiary: hsl(170, 6%, 48%);

    --accent: hsl(168, 72%, 36%);
    --accent-hover: hsl(168, 72%, 30%);
    --accent-muted: hsl(168, 30%, 82%);
    --accent-subtle: hsl(168, 25%, 92%);
    --accent-text: hsl(0, 0%, 99%);
    --accent-glow: hsla(168, 72%, 36%, 0.12);

    --border: hsl(170, 8%, 86%);
    --border-subtle: hsl(170, 8%, 90%);
    --border-accent: hsl(168, 30%, 72%);

    --shadow-sm: 0 2px 4px hsla(172, 10%, 30%, 0.08), 0 1px 2px hsla(172, 10%, 30%, 0.04);
    --shadow-md: 0 4px 8px hsla(172, 10%, 30%, 0.1), 0 2px 4px hsla(172, 10%, 30%, 0.06);
    --shadow-lg: 0 12px 24px hsla(172, 10%, 30%, 0.12), 0 4px 8px hsla(172, 10%, 30%, 0.06);
    --shadow-glow: 0 0 48px hsla(168, 72%, 36%, 0.1), 0 0 16px hsla(168, 72%, 36%, 0.06);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     BASE TYPOGRAPHY
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  body {
    font-family: var(--font-display);
    font-size: 16px;
    line-height: 1.6;
    color: var(--text-primary);
    background: var(--bg-base);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1, h2, h3, h4 {
    color: var(--text-heading);
    font-weight: 700;
    line-height: 1.15;
    letter-spacing: -0.01em;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ANIMATIONS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes fade-out {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-16px); }
  }

  @keyframes slide-in-right {
    from { transform: translateX(100%); }
    to { transform: translateX(0); }
  }

  @keyframes slide-out-right {
    from { transform: translateX(0); }
    to { transform: translateX(100%); }
  }

  @keyframes progress-pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.7; transform: scale(1.1); }
  }

  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     STICKY HEADER WITH PROGRESS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .wizard-header {
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    background: var(--bg-nav);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border-bottom: 1px solid var(--border-subtle);
  }

  .header-content {
    max-width: 960px;
    margin: 0 auto;
    padding: var(--sp-4) var(--sp-6);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--sp-6);
  }

  .logo {
    display: flex;
    align-items: center;
    gap: var(--sp-2);
    font-size: 18px;
    font-weight: 700;
    color: var(--text-heading);
    text-decoration: none;
  }

  .logo-icon { 
    width: 24px; 
    height: 24px; 
    object-fit: contain;
  }

  .progress-bar {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--sp-3);
  }

  .step-indicator {
    display: flex;
    align-items: center;
    gap: var(--sp-2);
    font-size: 13px;
    font-weight: 600;
    color: var(--text-tertiary);
    transition: all 0.3s;
    cursor: pointer;
  }

  .step-indicator.active {
    color: var(--accent);
  }

  .step-indicator.completed {
    color: var(--text-secondary);
    cursor: pointer;
  }

  .step-indicator.disabled {
    cursor: not-allowed;
    opacity: 0.4;
  }

  .step-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--text-tertiary);
    transition: all 0.3s;
  }

  .step-indicator.active .step-dot {
    background: var(--accent);
    animation: progress-pulse 2s ease-in-out infinite;
  }

  .step-indicator.completed .step-dot {
    background: var(--text-secondary);
  }

  .step-name {
    display: none;
  }

  @media (min-width: 768px) {
    .step-name {
      display: inline;
    }
  }

  .step-divider {
    width: 24px;
    height: 1px;
    background: var(--border);
  }

  .header-actions {
    display: flex;
    gap: var(--sp-2);
  }

  .theme-toggle, .help-toggle {
    width: 44px;
    height: 44px;
    border-radius: var(--r-md);
    border: 1px solid var(--border);
    background: var(--bg-card);
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: border-color 0.25s, color 0.25s, background 0.25s;
  }

  .theme-toggle:hover, .help-toggle:hover {
    border-color: var(--accent);
    color: var(--accent);
    background: var(--accent-subtle);
  }

  .theme-toggle:focus-visible, .help-toggle:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     WIZARD STEPS CONTAINER
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .wizard-container {
    max-width: 960px;
    margin: 0 auto;
    padding: 0 var(--sp-6);
    min-height: calc(100vh - 120px);
  }

  .wizard-step {
    display: none;
    padding: var(--sp-8) 0;
    min-height: calc(100vh - 180px);
  }

  .wizard-step.active {
    display: block;
    animation: fade-in 0.4s var(--ease-out);
  }

  .wizard-step.exiting {
    animation: fade-out 0.3s var(--ease-out);
  }

  .step-header {
    text-align: center;
    margin-bottom: var(--sp-8);
  }

  .step-number {
    font-size: 14px;
    font-weight: 600;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: var(--sp-2);
  }

  .step-title {
    font-size: clamp(28px, 5vw, 40px);
    margin-bottom: var(--sp-3);
  }

  .mint-text {
    background: linear-gradient(135deg, var(--accent), hsl(190, 65%, 55%), var(--accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .step-description {
    font-size: 18px;
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
  }

  .step-content {
    max-width: 700px;
    margin: 0 auto;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     NAVIGATION BUTTONS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .step-navigation {
    display: flex;
    gap: var(--sp-4);
    justify-content: center;
    margin-top: var(--sp-8);
    padding-top: var(--sp-8);
    border-top: 1px solid var(--border-subtle);
  }

  .btn {
    display: inline-flex;
    align-items: center;
    gap: var(--sp-2);
    padding: var(--sp-4) var(--sp-6);
    font-size: 16px;
    font-weight: 600;
    font-family: var(--font-display);
    border-radius: var(--r-pill);
    cursor: pointer;
    text-decoration: none;
    transition: transform 0.3s var(--ease-spring), box-shadow 0.3s, background 0.25s;
    border: none;
  }

  .btn-primary {
    background: var(--accent);
    color: var(--accent-text);
    box-shadow: var(--shadow-md);
  }

  .btn-primary:hover:not(:disabled) {
    background: var(--accent-hover);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  .btn-secondary {
    background: var(--bg-card);
    color: var(--text-primary);
    border: 1px solid var(--border);
  }

  .btn-secondary:hover:not(:disabled) {
    border-color: var(--accent);
    color: var(--accent);
    background: var(--accent-subtle);
  }

  .btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .btn:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
  }

  .btn-large {
    padding: var(--sp-6) var(--sp-12);
    font-size: 18px;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CHECKLIST
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .checklist {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--r-lg);
    padding: var(--sp-6);
    margin: var(--sp-6) 0;
  }

  .checklist-item {
    display: flex;
    align-items: flex-start;
    gap: var(--sp-3);
    margin-bottom: var(--sp-4);
    padding: var(--sp-4);
    border-radius: var(--r-md);
    transition: background 0.2s;
  }

  .checklist-item:hover {
    background: var(--bg-card-hover);
  }

  .checklist-item:last-child {
    margin-bottom: 0;
  }

  .checklist-item label {
    display: flex;
    align-items: flex-start;
    gap: var(--sp-3);
    cursor: pointer;
    flex: 1;
  }

  .checklist-item input[type="checkbox"] {
    margin-top: 2px;
    width: 24px;
    height: 24px;
    cursor: pointer;
    accent-color: var(--accent);
  }

  .checklist-item input[type="checkbox"]:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
  }

  .checklist-item strong {
    color: var(--text-heading);
    display: block;
    margin-bottom: var(--sp-1);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PATH CARDS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .path-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--sp-4);
    margin: var(--sp-6) 0;
  }

  @media (max-width: 768px) {
    .path-grid {
      grid-template-columns: 1fr;
    }
  }

  .path-card {
    background: var(--bg-card);
    border: 2px solid var(--border);
    border-radius: var(--r-lg);
    padding: var(--sp-6);
    transition: all 0.3s;
    position: relative;
    cursor: pointer;
  }

  .path-card.selected {
    border-color: var(--accent);
    background: var(--accent-subtle);
    box-shadow: var(--shadow-md);
  }

  .path-card.recommended::before {
    content: 'â­ Recommended';
    position: absolute;
    top: -12px;
    right: var(--sp-4);
    background: var(--accent);
    color: var(--accent-text);
    font-size: 12px;
    font-weight: 700;
    padding: 4px 12px;
    border-radius: var(--r-pill);
  }

  .path-card:hover:not(.selected) {
    border-color: var(--border-accent);
    transform: translateY(-2px);
  }

  .path-card h3 {
    font-size: 20px;
    margin-bottom: var(--sp-3);
  }

  .path-card p {
    color: var(--text-secondary);
    line-height: 1.6;
    margin-bottom: var(--sp-3);
  }

  .path-card p:last-child {
    margin-bottom: 0;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     INSTRUCTION BOXES
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .instruction {
    background: var(--accent-subtle);
    border-left: 4px solid var(--accent);
    border-radius: var(--r-md);
    padding: var(--sp-4);
    margin: var(--sp-4) 0;
  }

  .instruction-title {
    font-weight: 700;
    color: var(--accent);
    margin-bottom: var(--sp-2);
    display: flex;
    align-items: center;
    gap: var(--sp-2);
  }

  .instruction p {
    color: var(--text-primary);
    margin-bottom: var(--sp-2);
  }

  .instruction p:last-child {
    margin-bottom: 0;
  }

  .instruction.warning {
    background: hsla(40, 60%, 50%, 0.1);
    border-left-color: hsl(40, 80%, 60%);
  }

  .instruction.warning .instruction-title {
    color: hsl(40, 80%, 60%);
  }

  .instruction.success {
    background: hsla(130, 60%, 50%, 0.1);
    border-left-color: hsl(130, 60%, 50%);
  }

  .instruction.success .instruction-title {
    color: hsl(130, 60%, 50%);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     TERMINAL PREVIEW
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .terminal {
    background: hsl(172, 12%, 8%);
    border: 1px solid hsl(168, 30%, 18%);
    border-radius: var(--r-md);
    padding: var(--sp-4);
    margin: var(--sp-4) 0;
    font-family: var(--font-mono);
    font-size: 14px;
    line-height: 1.6;
    color: hsl(168, 15%, 85%);
    box-shadow: inset 0 1px 3px hsla(0, 0%, 0%, 0.4), 0 2px 8px hsla(168, 76%, 52%, 0.08);
    overflow-x: auto;
  }

  /* Keep terminal blocks dark in light mode */
  [data-theme="light"] .terminal {
    background: hsl(172, 12%, 10%);
    color: hsl(168, 15%, 85%);
  }

  .terminal-header {
    display: flex;
    align-items: center;
    gap: var(--sp-2);
    margin-bottom: var(--sp-3);
    padding-bottom: var(--sp-2);
    border-bottom: 1px solid hsl(168, 30%, 18%);
  }

  .terminal-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: hsl(0, 60%, 50%);
  }

  .terminal-dot:nth-child(2) {
    background: hsl(40, 60%, 50%);
  }

  .terminal-dot:nth-child(3) {
    background: hsl(120, 60%, 40%);
  }

  .terminal-prompt {
    color: hsl(120, 60%, 60%);
  }

  .terminal-command {
    color: hsl(200, 70%, 70%);
  }

  .terminal-output {
    color: hsl(0, 0%, 80%);
  }

  .terminal-success {
    color: hsl(120, 60%, 60%);
  }

  .terminal-warning {
    color: hsl(40, 80%, 60%);
  }

  @keyframes blink {
    0%, 49% { opacity: 1; }
    50%, 100% { opacity: 0; }
  }

  .cursor {
    animation: blink 1s infinite;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     COMMAND BLOCK
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .command-block {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--r-md);
    padding: var(--sp-4);
    margin: var(--sp-4) 0;
    position: relative;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .command-block code {
    font-family: var(--font-mono);
    font-size: 14px;
    color: var(--text-code);
    display: block;
    padding: var(--sp-3) var(--sp-4);
    padding-right: calc(var(--sp-4) + 60px); /* Make room for copy button */
    background: hsl(172, 12%, 8%);
    border-radius: var(--r-sm);
    user-select: all;
    word-break: break-all;
  }

  .btn-copy {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: var(--sp-3);
    padding: var(--sp-2) var(--sp-3);
    font-size: 12px;
    font-weight: 600;
    background: var(--accent);
    color: var(--accent-text);
    border: none;
    border-radius: var(--r-sm);
    cursor: pointer;
    font-family: var(--font-mono);
    transition: background 0.2s, transform 0.2s;
  }

  .btn-copy:hover {
    background: var(--accent-hover);
    transform: scale(1.05);
  }

  .btn-copy.copied {
    background: hsl(130, 60%, 45%);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     COLLAPSIBLE
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .collapsible {
    margin: var(--sp-4) 0;
  }

  .collapsible summary {
    padding: var(--sp-3) var(--sp-4);
    cursor: pointer;
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--r-md);
    font-weight: 600;
    color: var(--text-secondary);
    user-select: none;
    list-style: none;
    transition: background 0.2s, color 0.2s;
  }

  .collapsible summary::-webkit-details-marker {
    display: none;
  }

  .collapsible summary::before {
    content: 'â–¸ ';
    color: var(--accent);
    margin-right: var(--sp-2);
  }

  .collapsible[open] summary::before {
    content: 'â–¾ ';
  }

  .collapsible summary:hover {
    background: var(--bg-card-hover);
    color: var(--text-heading);
  }

  .collapsible-content {
    padding: var(--sp-4);
    border: 1px solid var(--border);
    border-top: none;
    border-radius: 0 0 var(--r-md) var(--r-md);
    background: var(--bg-raised);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     KEYBOARD KEY
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  kbd {
    display: inline-block;
    padding: 3px 8px;
    font-family: var(--font-mono);
    font-size: 13px;
    font-weight: 600;
    color: var(--text-heading);
    background: linear-gradient(180deg, var(--bg-card), var(--bg-base));
    border: 1px solid var(--border);
    border-bottom-width: 2px;
    border-radius: 5px;
    box-shadow: 0 1px 0 var(--border-subtle), 0 2px 0 hsla(0, 0%, 0%, 0.2), inset 0 1px 0 hsla(0, 0%, 100%, 0.05);
    text-shadow: 0 1px 1px hsla(0, 0%, 0%, 0.3);
    letter-spacing: 0.5px;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     HELP PANEL (SLIDE-OUT)
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .help-panel {
    position: fixed;
    top: 0;
    right: 0;
    width: 100%;
    max-width: 500px;
    height: 100vh;
    background: var(--bg-raised);
    border-left: 1px solid var(--border);
    box-shadow: var(--shadow-lg);
    z-index: 2000;
    transform: translateX(100%);
    transition: transform 0.4s var(--ease-out);
    overflow-y: auto;
  }

  .help-panel.open {
    transform: translateX(0);
  }

  .help-panel-header {
    padding: var(--sp-6);
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: sticky;
    top: 0;
    background: var(--bg-raised);
    z-index: 10;
  }

  .help-panel-title {
    font-size: 20px;
    font-weight: 700;
  }

  .help-close {
    width: 32px;
    height: 32px;
    border: none;
    background: transparent;
    color: var(--text-secondary);
    font-size: 24px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--r-sm);
    transition: background 0.2s, color 0.2s;
  }

  .help-close:hover {
    background: var(--bg-card);
    color: var(--text-heading);
  }

  .help-panel-content {
    padding: var(--sp-6);
  }

  .help-section {
    margin-bottom: var(--sp-6);
  }

  .help-section h3 {
    font-size: 18px;
    margin-bottom: var(--sp-3);
    color: var(--accent);
  }

  .help-item {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--r-md);
    margin-bottom: var(--sp-3);
    overflow: hidden;
  }

  .help-item-header {
    padding: var(--sp-3) var(--sp-4);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: background 0.2s;
  }

  .help-item-header:hover {
    background: var(--bg-card-hover);
  }

  .help-item-title {
    font-weight: 600;
    color: var(--text-heading);
  }

  .help-item-icon {
    color: var(--accent);
    transition: transform 0.3s;
  }

  .help-item.open .help-item-icon {
    transform: rotate(90deg);
  }

  .help-item-content {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.3s var(--ease-out);
  }

  .help-item.open .help-item-content {
    grid-template-rows: 1fr;
  }

  .help-item-body {
    overflow: hidden;
    padding: 0 var(--sp-4);
    color: var(--text-secondary);
    line-height: 1.7;
  }

  .help-item.open .help-item-body {
    padding-bottom: var(--sp-4);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     OVERLAY
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: hsla(0, 0%, 0%, 0.6);
    z-index: 1500;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s;
  }

  .overlay.visible {
    opacity: 1;
    pointer-events: all;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     EXPANDABLE SECTIONS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .expandable {
    margin: var(--sp-6) 0;
  }

  .expandable-item {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--r-md);
    margin-bottom: var(--sp-3);
    overflow: hidden;
  }

  .expandable-header {
    padding: var(--sp-4);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: background 0.2s;
  }

  .expandable-header:hover {
    background: var(--bg-card-hover);
  }

  .expandable-title {
    font-weight: 600;
    font-size: 16px;
  }

  .expandable-icon {
    color: var(--accent);
    transition: transform 0.3s;
  }

  .expandable-item.open .expandable-icon {
    transform: rotate(90deg);
  }

  .expandable-content {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.3s var(--ease-out);
  }

  .expandable-item.open .expandable-content {
    grid-template-rows: 1fr;
  }

  .expandable-body {
    overflow: hidden;
    padding: 0 var(--sp-4);
    color: var(--text-secondary);
  }

  .expandable-item.open .expandable-body {
    padding-bottom: var(--sp-4);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     FOOTER
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  footer {
    padding: var(--sp-8) var(--sp-6);
    text-align: center;
    border-top: 1px solid var(--border-subtle);
    font-size: 14px;
    color: var(--text-tertiary);
    margin-top: var(--sp-16);
  }

  footer a {
    color: var(--accent);
    text-decoration: none;
    transition: color 0.2s;
  }

  footer a:hover {
    color: var(--accent-hover);
    text-decoration: underline;
  }

  footer p + p {
    margin-top: var(--sp-2);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MOBILE RESPONSIVENESS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  @media (max-width: 768px) {
    .wizard-container {
      padding: 0 var(--sp-4);
    }

    .wizard-step {
      padding: var(--sp-6) 0;
    }

    .step-title {
      font-size: 28px;
    }

    .help-panel {
      max-width: 100%;
    }

    .btn-large {
      padding: var(--sp-4) var(--sp-8);
      font-size: 16px;
    }
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MOBILE OPTIMIZATIONS (PRISM Mobile Review Fixes)
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  
  /* Progress bar: collapse to text-only on small screens */
  @media (max-width: 500px) {
    /* Hide all step indicators, show mobile progress text instead */
    .progress-bar .step-indicator {
      display: none;
    }
    
    .progress-bar .step-divider {
      display: none;
    }
    
    /* Show mobile-friendly progress indicator */
    .mobile-progress {
      display: flex !important;
      align-items: center;
      gap: var(--sp-3);
      font-size: 14px;
      font-weight: 600;
      color: var(--text-secondary);
    }
    
    .mobile-progress-text {
      white-space: nowrap;
    }
    
    .mobile-progress-bar {
      flex: 1;
      height: 4px;
      background: var(--bg-card);
      border-radius: 2px;
      overflow: hidden;
      min-width: 60px;
    }
    
    .mobile-progress-fill {
      height: 100%;
      background: var(--accent);
      border-radius: 2px;
      transition: width 0.3s ease;
    }
  }
  
  /* Medium screens: compact dot mode */
  @media (min-width: 501px) and (max-width: 700px) {
    .progress-bar {
      gap: var(--sp-1);
    }
    
    .step-indicator {
      min-width: 28px;
      min-height: 44px;
      justify-content: center;
      padding: var(--sp-1);
    }
    
    .step-dot {
      width: 8px;
      height: 8px;
    }
    
    .step-indicator .step-number {
      display: none;
    }
    
    .step-divider {
      width: 8px;
    }
  }
  
  /* Hide mobile progress on larger screens */
  @media (min-width: 501px) {
    .mobile-progress {
      display: none !important;
    }
  }
  
  /* Download disclaimer modal: mobile fixes */
  @media (max-width: 480px) {
    #download-disclaimer-modal > div {
      padding: var(--sp-6);
      margin: var(--sp-3);
    }
    
    #download-disclaimer-modal h3 {
      font-size: 20px;
    }
    
    .discord-cta-btn {
      width: 100%;
      text-align: center;
    }
    
    .command-block code {
      font-size: 13px;
    }
  }
  
  /* Floating help button for mobile (bottom-right, accessible) */
  @media (max-width: 768px) {
    .mobile-help-fab {
      position: fixed;
      bottom: var(--sp-6);
      right: var(--sp-4);
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: var(--accent);
      color: var(--accent-text);
      border: none;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .mobile-help-fab:active {
      transform: scale(0.95);
    }
    
    /* Hide header help button on mobile (use FAB instead) */
    .wizard-header .help-toggle {
      display: none;
    }
  }
  
  @media (min-width: 769px) {
    .mobile-help-fab {
      display: none;
    }
  }
  
  /* Form inputs: prevent iOS zoom (ensure 16px minimum) */
  input[type="checkbox"] {
    width: 24px;
    height: 24px;
  }
  
  input, select, textarea {
    font-size: 16px; /* Prevents iOS zoom on focus */
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     OS-AWARE CONTENT (Windows / Mac conditional rendering)
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

  /* By default, OS-tagged elements are shown (body has data-os set by JS) */
  [data-os-show].os-hidden { display: none !important; }

  /* OS switcher in header */
  .os-switcher {
    display: flex;
    align-items: center;
    gap: 2px;
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--r-pill);
    padding: 2px;
    margin-right: var(--sp-2);
  }
  .os-switcher button {
    background: none;
    border: none;
    cursor: pointer;
    padding: 4px 10px;
    border-radius: var(--r-pill);
    font-size: 12px;
    color: var(--text-secondary);
    transition: all 0.15s;
    white-space: nowrap;
  }
  .os-switcher button.active {
    background: var(--accent-muted);
    color: var(--accent);
    font-weight: 600;
  }
  .os-switcher button:hover:not(.active) {
    color: var(--text-primary);
    background: var(--bg-card-hover);
  }
</style>
</head>
<body>

<!-- Overlay for help panel -->
<div class="overlay" id="overlay" onclick="toggleHelp()"></div>

<!-- Mobile floating help button (thumb-friendly, bottom-right) -->
<button class="mobile-help-fab" onclick="toggleHelp()" aria-label="Get help">
  ?
</button>

<!-- Fixed Header -->
<div class="wizard-header" role="banner">
  <div class="header-content">
    <a href="index.html" class="logo">
      <img src="favicon.png" alt="ClawStarter" class="logo-icon">
      <span>ClawStarter</span>
    </a>

    <div class="progress-bar" role="navigation" aria-label="Setup progress">
      <!-- Mobile-friendly progress indicator (hidden on desktop) -->
      <div class="mobile-progress" id="mobile-progress" style="display: none;">
        <span class="mobile-progress-text" id="mobile-progress-text">Step 1 of 10</span>
        <div class="mobile-progress-bar">
          <div class="mobile-progress-fill" id="mobile-progress-fill" style="width: 10%;"></div>
        </div>
      </div>
      
      <div class="step-indicator" id="step-ind-1" onclick="jumpToStep(1)" onkeydown="handleStepKey(event, 1)" role="button" tabindex="0" aria-label="Step 1: Welcome">
        <span class="step-dot"></span>
        <span class="step-name">Welcome</span>
      </div>
      <div class="step-divider"></div>
      <div class="step-indicator" id="step-ind-2" onclick="jumpToStep(2)" onkeydown="handleStepKey(event, 2)" role="button" tabindex="0" aria-label="Step 2: Checklist">
        <span class="step-dot"></span>
        <span class="step-name">Checklist</span>
      </div>
      <div class="step-divider"></div>
      <div class="step-indicator" id="step-ind-3" onclick="jumpToStep(3)" onkeydown="handleStepKey(event, 3)" role="button" tabindex="0" aria-label="Step 3: Path">
        <span class="step-dot"></span>
        <span class="step-name">Path</span>
      </div>
      <div class="step-divider"></div>
      <div class="step-indicator" id="step-ind-4" onclick="jumpToStep(4)" onkeydown="handleStepKey(event, 4)" role="button" tabindex="0" aria-label="Step 4: Download">
        <span class="step-dot"></span>
        <span class="step-name">Download</span>
      </div>
      <div class="step-divider"></div>
      <div class="step-indicator" id="step-ind-5" onclick="jumpToStep(5)" onkeydown="handleStepKey(event, 5)" role="button" tabindex="0" aria-label="Step 5: Terminal">
        <span class="step-dot"></span>
        <span class="step-name">Terminal</span>
      </div>
      <div class="step-divider"></div>
      <div class="step-indicator" id="step-ind-6" onclick="jumpToStep(6)" onkeydown="handleStepKey(event, 6)" role="button" tabindex="0" aria-label="Step 6: Run">
        <span class="step-dot"></span>
        <span class="step-name">Run</span>
      </div>
      <div class="step-divider"></div>
      <div class="step-indicator" id="step-ind-7" onclick="jumpToStep(7)" onkeydown="handleStepKey(event, 7)" role="button" tabindex="0" aria-label="Step 7: Install">
        <span class="step-dot"></span>
        <span class="step-name">Install</span>
      </div>
      <div class="step-divider"></div>
      <div class="step-indicator" id="step-ind-8" onclick="jumpToStep(8)" onkeydown="handleStepKey(event, 8)" role="button" tabindex="0" aria-label="Step 8: Configure">
        <span class="step-dot"></span>
        <span class="step-name">Configure</span>
      </div>
      <div class="step-divider"></div>
      <div class="step-indicator" id="step-ind-9" onclick="jumpToStep(9)" onkeydown="handleStepKey(event, 9)" role="button" tabindex="0" aria-label="Step 9: Success">
        <span class="step-dot"></span>
        <span class="step-name">Success</span>
      </div>
      <div class="step-divider"></div>
      <div class="step-indicator" id="step-ind-10" onclick="jumpToStep(10)" onkeydown="handleStepKey(event, 10)" role="button" tabindex="0" aria-label="Step 10: Next Steps">
        <span class="step-dot"></span>
        <span class="step-name">Next</span>
      </div>
    </div>

    <div class="header-actions">
      <div class="os-switcher" id="osSwitcher" title="Switch operating system">
        <button id="osBtnMac" onclick="OSState.override('mac')" aria-label="Switch to Mac setup">ğŸ Mac</button>
        <button id="osBtnWin" onclick="OSState.override('windows')" aria-label="Switch to Windows setup">ğŸªŸ Win</button>
      </div>
      <button class="help-toggle" onclick="toggleHelp()" id="helpBtn" aria-label="Toggle help panel">ğŸ”§</button>
      <button class="theme-toggle" onclick="toggleTheme()" id="themeBtn" aria-label="Toggle theme" aria-pressed="false">â˜€</button>
    </div>
  </div>
</div>

<!-- Wizard Steps Container -->
<div class="wizard-container">

  <!-- Step 1: Welcome -->
  <section class="wizard-step active" id="step-1" data-step="1">
    <div class="step-header">
      <div class="step-number" id="step1-counter">Step 1 of 10</div>
      <h1 class="step-title">Your Personal AI.<br>
        <span class="mint-text" data-os-show="mac">Running on Your Mac.</span>
        <span class="mint-text os-hidden" data-os-show="windows">Running on Windows.</span>
      </h1>
      <p class="step-description">This guide walks you through a <strong>secure</strong> setup. One step at a time.</p>
    </div>
    <div class="step-content">
      <!-- Mac intro -->
      <div data-os-show="mac">
        <div class="instruction">
          <div class="instruction-title">ğŸ“– What you'll do:</div>
          <p>1. Download a simple install script</p>
          <p>2. Run it in Terminal (we'll show you how)</p>
          <p>3. Answer a few questions</p>
          <p>4. Start chatting with your AI</p>
        </div>
        <p style="text-align: center; margin-top: var(--sp-6); color: var(--text-secondary);">
          <strong>Estimated time:</strong> 15-20 minutes
        </p>
      </div>
      <!-- Windows intro -->
      <div data-os-show="windows" class="os-hidden">
        <div class="instruction">
          <div class="instruction-title">ğŸ“– What you'll do:</div>
          <p>1. Download a PowerShell installer</p>
          <p>2. Right-click â†’ Run as Administrator</p>
          <p>3. Wait ~20-40 minutes (fully automatic)</p>
          <p>4. Open Ubuntu and answer a few questions</p>
          <p>5. Start chatting with your AI</p>
        </div>
        <div class="instruction warning" style="margin-top: var(--sp-4);">
          <div class="instruction-title">ğŸªŸ Heads up: Linux terminal incoming</div>
          <p>OpenClaw runs inside Ubuntu (Linux) on Windows. After the installer finishes, a Ubuntu terminal will open â€” <strong>that's normal and expected</strong>. We'll walk you through it step by step.</p>
        </div>
        <p style="text-align: center; margin-top: var(--sp-6); color: var(--text-secondary);">
          <strong>Estimated time:</strong> 20-40 minutes
        </p>
      </div>
    </div>
    <div class="step-navigation">
      <button class="btn btn-primary btn-large" onclick="nextStep()">Let's Go â†’</button>
    </div>
  </section>

  <!-- Step 2: Before You Start (Checklist) -->
  <section class="wizard-step" id="step-2" data-step="2">
    <div class="step-header">
      <div class="step-number">Step 2 of 10</div>
      <h2 class="step-title">Before You Start</h2>
      <p class="step-description">Make sure you have everything ready.</p>
    </div>
    <div class="step-content">

      <!-- Mac checklist -->
      <div data-os-show="mac">
        <fieldset class="checklist">
          <legend style="font-size: 18px; font-weight: 700; color: var(--accent); margin-bottom: var(--sp-4);">âœ… Pre-Install Checklist</legend>
          <div class="checklist-item">
            <label>
              <input type="checkbox" id="check-1" onchange="updateChecklistState()">
              <div>
                <strong>Mac with macOS 13+ (Ventura or newer)</strong><br>
                <span style="color: var(--text-secondary);">Check: Apple menu (top left) â†’ About This Mac</span>
              </div>
            </label>
          </div>
          <div class="checklist-item">
            <label>
              <input type="checkbox" id="check-2" onchange="updateChecklistState()">
              <div>
                <strong>15-20 minutes of uninterrupted time</strong><br>
                <span style="color: var(--text-secondary);">Find a quiet moment. <strong>Keep your Mac plugged in</strong> â€” sleep or battery drain can interrupt installation.</span>
              </div>
            </label>
          </div>
          <div class="checklist-item">
            <label>
              <input type="checkbox" id="check-3" onchange="updateChecklistState()">
              <div>
                <strong>Admin access on this Mac</strong><br>
                <span style="color: var(--text-secondary);">The script needs to configure firewall, sleep, and auto-update settings. Check: System Settings â†’ Users & Groups â†’ your account should show "Admin" badge.</span>
              </div>
            </label>
          </div>
          <div class="checklist-item">
            <label>
              <input type="checkbox" id="check-4" onchange="updateChecklistState()">
              <div>
                <strong>An AI provider API key (optional but recommended)</strong><br>
                <span style="color: var(--text-secondary);">You can set one up during installation. Two options:</span><br>
                <a href="https://opencode.ai/auth" target="_blank" style="color: var(--accent);">OpenCode Zen</a> <span style="color: var(--text-secondary);">(free models available, payment method required) or</span>
                <a href="https://openrouter.ai/keys" target="_blank" style="color: var(--accent);">OpenRouter</a> <span style="color: var(--text-secondary);">($5-10 to start, more model options)</span>
              </div>
            </label>
          </div>
          <div class="checklist-item" style="border-left: 3px solid var(--accent); padding-left: var(--sp-3); background: var(--bg-surface);">
            <label>
              <input type="checkbox" id="check-5" onchange="updateChecklistState()">
              <div>
                <strong>Dedicated accounts for Google/Apple services (recommended)</strong><br>
                <span style="color: var(--text-secondary);">If you plan to use email (Gmail) or iMessage/Notes, consider creating dedicated accounts for cleaner separation:</span>
                <ul style="margin-left: 16px; margin-top: 6px; font-size: 14px; color: var(--text-secondary);">
                  <li><strong>Gmail:</strong> For Google services (calendar, email, drive). OAuth setup required.</li>
                  <li><strong>Apple ID</strong> (macOS only): For iMessage, Notes, Reminders. Keeps bot activity separate.</li>
                </ul>
                <span style="color: var(--text-secondary); font-size: 13px; margin-top: 4px; display: block;">You can use your personal accounts instead, but dedicated = cleaner isolation.</span>
              </div>
            </label>
          </div>
        </fieldset>
      </div>

      <!-- Windows checklist -->
      <div data-os-show="windows" class="os-hidden">
        <fieldset class="checklist">
          <legend style="font-size: 18px; font-weight: 700; color: var(--accent); margin-bottom: var(--sp-4);">âœ… Pre-Install Checklist</legend>
          <div class="checklist-item">
            <label>
              <input type="checkbox" id="win-check-1" onchange="updateWinChecklistState()">
              <div>
                <strong>Windows 10 (version 2004 or later) or Windows 11</strong><br>
                <span style="color: var(--text-secondary);">Check: press <kbd>Win</kbd>+<kbd>R</kbd>, type <code>winver</code>, press Enter. Need build 19041 or higher.</span>
              </div>
            </label>
          </div>
          <div class="checklist-item">
            <label>
              <input type="checkbox" id="win-check-2" onchange="updateWinChecklistState()">
              <div>
                <strong>Administrator account on this PC</strong><br>
                <span style="color: var(--text-secondary);">Required to install WSL2. Check: Settings â†’ Accounts â†’ your account should show "Administrator".</span>
              </div>
            </label>
          </div>
          <div class="checklist-item">
            <label>
              <input type="checkbox" id="win-check-3" onchange="updateWinChecklistState()">
              <div>
                <strong>At least 4GB of free disk space</strong><br>
                <span style="color: var(--text-secondary);">WSL2 + Ubuntu + Node.js + OpenClaw needs ~2-3GB. Check: File Explorer â†’ This PC â†’ look at C: drive free space.</span>
              </div>
            </label>
          </div>
          <div class="checklist-item">
            <label>
              <input type="checkbox" id="win-check-4" onchange="updateWinChecklistState()">
              <div>
                <strong>30-40 minutes of uninterrupted time</strong><br>
                <span style="color: var(--text-secondary);">Downloading Ubuntu takes a while. <strong>Keep your PC plugged in</strong> â€” sleep or hibernate can interrupt the install.</span>
              </div>
            </label>
          </div>
          <div class="checklist-item">
            <label>
              <input type="checkbox" id="win-check-5" onchange="updateWinChecklistState()">
              <div>
                <strong>An AI provider API key (optional but recommended)</strong><br>
                <span style="color: var(--text-secondary);">You can get one during setup. Two options:</span><br>
                <a href="https://opencode.ai/auth" target="_blank" style="color: var(--accent);">OpenCode Zen</a> <span style="color: var(--text-secondary);">(free models available, payment method required) or</span>
                <a href="https://openrouter.ai/keys" target="_blank" style="color: var(--accent);">OpenRouter</a> <span style="color: var(--text-secondary);">($5-10 to start, more model options)</span>
              </div>
            </label>
          </div>
        </fieldset>
      </div>

    </div>
    <div class="step-navigation">
      <button class="btn btn-secondary" onclick="prevStep()">â† Back</button>
      <button class="btn btn-primary btn-large" id="checklist-next" onclick="nextStep()">All checked? â†’</button>
    </div>
  </section>

  <!-- Step 3: Choose Your Path -->
  <section class="wizard-step" id="step-3" data-step="3" data-os-step="mac">
    <div class="step-header">
      <div class="step-number">Step 3 of 10</div>
      <h2 class="step-title">Choose Your Setup Path</h2>
      <p class="step-description">How do you want to run your AI?</p>
    </div>
    <div class="step-content">
      <div class="path-grid">
        <div class="path-card recommended" id="path-same" onclick="selectPath('same')">
          <h3>Same Mac (Second User) â­</h3>
          <p>Install OpenClaw in a separate Mac user account on your current Mac. Perfect for trying it out.</p>
          <p style="font-size: 14px; color: var(--accent); margin-top: var(--sp-2);"><strong>Why a second user?</strong> Keeps your bot isolated from your personal files. Easy to remove â€” just delete the user account and everything's gone.</p>
          <p style="font-size: 14px; color: var(--text-tertiary); margin-top: var(--sp-2);">âš ï¸ This Mac won't sleep while the bot runs (screen turns off to save power).</p>
        </div>
        <div class="path-card" id="path-dedicated" onclick="selectPath('dedicated')">
          <h3>Dedicated Mac</h3>
          <p>Use a Mac Mini or old MacBook dedicated to running OpenClaw 24/7. Best for always-on personal AI.</p>
          <p style="font-size: 14px; color: var(--text-tertiary);">Recommended for production use.</p>
        </div>
      </div>

      <!-- User account creation instructions (shown when "Same Mac" is selected) -->
      <div id="create-user-section" style="display: none; margin-top: var(--sp-8);">
        <div class="instruction warning">
          <div class="instruction-title">âš ï¸ FIRST: Create a new Mac user account</div>
          <p>Before continuing, you need to create a separate user account for your bot and <strong>log into that account</strong>.</p>
        </div>

        <details class="collapsible" open style="margin-top: var(--sp-4);">
          <summary>ğŸ“ How to Create a Bot User Account</summary>
          <div class="collapsible-content">
            <h4 style="margin-bottom: var(--sp-3); color: var(--text-heading);">Create the Account:</h4>
            <ol style="margin-left: var(--sp-6); line-height: 2;">
              <li>Click the <strong>Apple menu</strong>  (top left) â†’ <strong>System Settings</strong></li>
              <li>Click <strong>Users & Groups</strong> in the sidebar</li>
              <li>Click <strong>Add Account...</strong> (or <strong>Add User...</strong>) â€” if locked, click the ğŸ”’ first</li>
              <li>Fill in:
                <ul style="margin-left: var(--sp-4); margin-top: var(--sp-2); margin-bottom: var(--sp-2);">
                  <li><strong>Full Name:</strong> <code>Watson</code> (or any name for your bot)</li>
                  <li><strong>Account Name:</strong> <code>watson</code> (lowercase, no spaces)</li>
                  <li><strong>Password:</strong> Something you'll remember</li>
                  <li><strong>Account Type:</strong> <code>Administrator</code> (required for system setup)</li>
                </ul>
              </li>
              <li>Click <strong>Create User</strong></li>
            </ol>

            <h4 style="margin: var(--sp-6) 0 var(--sp-3); color: var(--text-heading);">Log Into the New Account:</h4>
            <ol style="margin-left: var(--sp-6); line-height: 2;">
              <li>Click <strong>Apple menu</strong>  â†’ <strong>Log Out [Your Name]</strong></li>
              <li>At the login screen, click your new bot user (<strong>Watson</strong>)</li>
              <li>Enter the password and wait for the desktop to load</li>
              <li>Open Safari and return to this page: <code style="background: var(--bg-card); padding: 2px 8px; border-radius: 4px;">clawstarter.xyz/companion</code></li>
            </ol>

            <div class="instruction success" style="margin-top: var(--sp-4);">
              <div class="instruction-title">âœ… Ready to continue?</div>
              <p>Once you're logged into the dedicated user account, click "I'm in the bot account" below.</p>
              <p style="margin-top: var(--sp-2); font-size: 14px;"><strong>Quick check:</strong> Click Apple menu  â†’ the username at the top should show your bot account name (e.g., "Watson").</p>
            </div>
          </div>
        </details>
      </div>
    </div>
    <div class="step-navigation">
      <button class="btn btn-secondary" onclick="prevStep()">â† Back</button>
      <button class="btn btn-primary btn-large" id="path-next" onclick="nextStep()">Select a path above â†’</button>
    </div>
  </section>

  <!-- Step 4: Download -->
  <section class="wizard-step" id="step-4" data-step="4">
    <div class="step-header">
      <div class="step-number">Step 4 of 10</div>
      <h2 class="step-title">Download the Installer</h2>
      <p class="step-description">Click the button below to download the install script.</p>
    </div>
    <div class="step-content">

      <!-- Mac download -->
      <div data-os-show="mac">
        <div style="text-align: center; margin: var(--sp-8) 0;">
          <button class="btn btn-primary btn-large" onclick="showDownloadDisclaimer()" id="download-trigger-btn">
            <span>ğŸ“¥ Download Install Script</span>
          </button>
          <p style="margin-top: var(--sp-3); color: var(--text-tertiary); font-size: 14px;">
            File will download to your Downloads folder
          </p>
        </div>

        <!-- Mac Download Disclaimer Modal (unchanged) -->
        <div id="download-disclaimer-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="disclaimer-title" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; align-items: center; justify-content: center; overflow-y: auto; padding: var(--sp-4);">
          <div style="max-width: 500px; max-height: 90vh; overflow-y: auto; background: var(--bg-card); border-radius: 16px; padding: var(--sp-8); text-align: center; margin: auto;">
            <h3 id="disclaimer-title" style="font-size: 24px; margin-bottom: var(--sp-4);">ğŸ¦ Ready to Dive In?</h3>
            <p style="margin-bottom: var(--sp-4); line-height: 1.6;">
              You're about to embark on a wonderful journey designing your personal AI agent!
            </p>
            <p style="margin-bottom: var(--sp-6); color: var(--text-secondary); font-size: 14px; line-height: 1.6;">
              AI agent technology is experimental. Your bot will have access to your computer â€” that's what makes it powerful, but also why we recommend the security practices in this guide.
            </p>
            <label style="display: flex; align-items: center; justify-content: center; gap: var(--sp-3); margin-bottom: var(--sp-6); cursor: pointer;">
              <input type="checkbox" id="disclaimer-checkbox" onchange="updateDownloadButton()" style="width: 20px; height: 20px; cursor: pointer;">
              <span style="font-weight: 600;">Yes, I'm ready to dive in! ğŸ¦</span>
            </label>
            <div style="display: flex; gap: var(--sp-4); justify-content: center; flex-wrap: wrap;">
              <button class="btn btn-secondary" onclick="hideDownloadDisclaimer()">Cancel</button>
              <a href="openclaw-autosetup.sh" download="install.sh" class="btn btn-primary" id="modal-download-btn" style="opacity: 0.5; pointer-events: none;" onclick="hideDownloadDisclaimer()">
                Download
              </a>
            </div>
          </div>
        </div>

        <details class="collapsible">
          <summary>Advanced: Use curl command instead</summary>
          <div class="collapsible-content">
            <p>If you prefer the one-line install, copy this command:</p>
            <div class="command-block">
              <button class="btn-copy" onclick="copyCommand(this, 'curl -fsSL https://raw.githubusercontent.com/jeremyknows/clawstarter/main/openclaw-autosetup.sh | bash')" aria-label="Copy curl install command">Copy</button>
              <code>curl -fsSL https://raw.githubusercontent.com/jeremyknows/clawstarter/main/openclaw-autosetup.sh | bash</code>
            </div>
            <p>Then skip to "Step 6: Run the Script".</p>
          </div>
        </details>
      </div>

      <!-- Windows download -->
      <div data-os-show="windows" class="os-hidden">
        <div style="text-align: center; margin: var(--sp-8) 0;">
          <button class="btn btn-primary btn-large" onclick="showWindowsDownloadDisclaimer()" id="win-download-trigger-btn">
            <span>ğŸ“¥ Download Windows Installer</span>
          </button>
          <p style="margin-top: var(--sp-3); color: var(--text-tertiary); font-size: 14px;">
            openclaw-windows-setup.ps1 Â· Downloads to your Downloads folder
          </p>
        </div>

        <!-- Windows Download Modal -->
        <div id="win-download-modal" class="modal-overlay" role="dialog" aria-modal="true" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; align-items: center; justify-content: center; overflow-y: auto; padding: var(--sp-4);">
          <div style="max-width: 520px; max-height: 90vh; overflow-y: auto; background: var(--bg-card); border-radius: 16px; padding: var(--sp-8); text-align: center; margin: auto;">
            <h3 style="font-size: 24px; margin-bottom: var(--sp-4);">ğŸ¦ Ready to install on Windows?</h3>
            <p style="margin-bottom: var(--sp-4); line-height: 1.6;">
              This will download a PowerShell script that automatically installs WSL2, Ubuntu, Node.js, and OpenClaw.
            </p>
            <div style="background: var(--accent-subtle); border: 1px solid var(--border-accent); border-radius: var(--r-md); padding: var(--sp-4); margin-bottom: var(--sp-4); text-align: left; font-size: 14px;">
              <strong>âš ï¸ After downloading:</strong>
              <ol style="margin: var(--sp-2) 0 0 var(--sp-4); line-height: 2;">
                <li>Find the file in your Downloads folder</li>
                <li><strong>Right-click</strong> it â†’ <strong>Run with PowerShell</strong></li>
                <li>Click <strong>Yes</strong> when asked for Administrator permission</li>
              </ol>
              <p style="margin-top: var(--sp-2); color: var(--text-secondary);">The script takes 20-40 minutes. We'll explain what to do next.</p>
            </div>
            <label style="display: flex; align-items: center; justify-content: center; gap: var(--sp-3); margin-bottom: var(--sp-6); cursor: pointer;">
              <input type="checkbox" id="win-disclaimer-checkbox" onchange="document.getElementById('win-modal-download-btn').style.opacity = this.checked ? '1' : '0.5'; document.getElementById('win-modal-download-btn').style.pointerEvents = this.checked ? 'auto' : 'none';" style="width: 20px; height: 20px; cursor: pointer;">
              <span style="font-weight: 600;">Yes, I'm ready to dive in! ğŸ¦</span>
            </label>
            <div style="display: flex; gap: var(--sp-4); justify-content: center; flex-wrap: wrap;">
              <button class="btn btn-secondary" onclick="hideWindowsDownloadDisclaimer()">Cancel</button>
              <a href="openclaw-windows-setup.ps1" download="openclaw-windows-setup.ps1" class="btn btn-primary" id="win-modal-download-btn" style="opacity: 0.5; pointer-events: none;" onclick="hideWindowsDownloadDisclaimer()">
                Download
              </a>
            </div>
          </div>
        </div>
      </div>

    </div>
    <div class="step-navigation">
      <button class="btn btn-secondary" onclick="prevStep()">â† Back</button>
      <button class="btn btn-primary btn-large" onclick="nextStep()">Downloaded? â†’</button>
    </div>
  </section>

  <!-- Step 5: Open Terminal / Run Installer -->
  <section class="wizard-step" id="step-5" data-step="5">
    <div class="step-header">
      <div class="step-number">Step 5 of 10</div>
      <h2 class="step-title">
        <span data-os-show="mac">Open Terminal</span>
        <span data-os-show="windows" class="os-hidden">Run the Installer</span>
      </h2>
      <p class="step-description">
        <span data-os-show="mac">Terminal is a built-in Mac app. Here's how to find it.</span>
        <span data-os-show="windows" class="os-hidden">Right-click the downloaded file and run it as Administrator.</span>
      </p>
    </div>
    <div class="step-content">

      <!-- Mac instructions (unchanged) -->
      <div data-os-show="mac">
        <div class="instruction">
          <div class="instruction-title">ğŸ‘‰ How to open Terminal:</div>
          <p>1. Hold <kbd>âŒ˜ Command</kbd> and press <kbd>Space</kbd></p>
          <p>2. Type "Terminal"</p>
          <p>3. Press <kbd>Enter</kbd></p>
        </div>
      </div>

      <!-- Windows: run the installer -->
      <div data-os-show="windows" class="os-hidden">
        <div class="instruction warning">
          <div class="instruction-title">âš ï¸ Must run as Administrator</div>
          <p>WSL2 installation requires Administrator access. The script will fail if you open it normally.</p>
        </div>

        <div class="instruction">
          <div class="instruction-title">ğŸ‘‰ How to run the script:</div>
          <p>1. Open your <strong>Downloads</strong> folder in File Explorer</p>
          <p>2. Find <strong>openclaw-windows-setup.ps1</strong></p>
          <p>3. <strong>Right-click</strong> the file</p>
          <p>4. Select <strong>"Run with PowerShell"</strong></p>
          <p>5. When Windows asks "Do you want to allow changes?", click <strong>Yes</strong></p>
        </div>

        <details class="collapsible" style="margin-top: var(--sp-4);">
          <summary>ğŸ›¡ï¸ Seeing a Windows SmartScreen warning?</summary>
          <div class="collapsible-content">
            <p>Windows shows this warning for scripts that haven't been digitally signed yet. This is normal for open-source installers.</p>
            <p style="margin-top: var(--sp-3);"><strong>To proceed safely:</strong></p>
            <ol style="margin-left: var(--sp-6); line-height: 2; margin-top: var(--sp-2);">
              <li>Click <strong>"More info"</strong> (small text below the warning)</li>
              <li>Click <strong>"Run anyway"</strong></li>
              <li>Click <strong>Yes</strong> when asked for Administrator permission</li>
            </ol>
            <p style="margin-top: var(--sp-3); font-size: 14px; color: var(--text-secondary);">
              <strong>Why is this safe?</strong> This script installs official Microsoft software (WSL2) and Ubuntu from Canonical. The script source code is open at
              <a href="https://github.com/jeremyknows/clawstarter" target="_blank" style="color: var(--accent);">github.com/jeremyknows/clawstarter</a>.
            </p>
          </div>
        </details>

        <details class="collapsible" style="margin-top: var(--sp-3);">
          <summary>â“ "Run with PowerShell" not in the right-click menu?</summary>
          <div class="collapsible-content">
            <p>Open PowerShell as Administrator manually:</p>
            <ol style="margin-left: var(--sp-6); line-height: 2; margin-top: var(--sp-2);">
              <li>Press <kbd>Win</kbd> key, type <strong>PowerShell</strong></li>
              <li>Right-click "Windows PowerShell" â†’ <strong>Run as Administrator</strong></li>
              <li>In PowerShell, type:</li>
            </ol>
            <div class="command-block" style="margin-top: var(--sp-2);">
              <button class="btn-copy" onclick="copyCommand(this, 'Set-ExecutionPolicy RemoteSigned -Scope CurrentUser; cd ~\\Downloads; .\\openclaw-windows-setup.ps1')" aria-label="Copy PowerShell command">Copy</button>
              <code>Set-ExecutionPolicy RemoteSigned -Scope CurrentUser; cd ~\Downloads; .\openclaw-windows-setup.ps1</code>
            </div>
          </div>
        </details>
      </div>

      <div class="terminal">
        <div class="terminal-header">
          <div class="terminal-dot"></div>
          <div class="terminal-dot"></div>
          <div class="terminal-dot"></div>
        </div>
        <div>
          <span class="terminal-prompt">Last login: Mon Feb 15 14:30:00 on ttys000</span><br>
          <span class="terminal-prompt">YourMacBook:~ yourname$</span> <span class="cursor">â–ˆ</span>
        </div>
      </div>
      <p style="margin-top: var(--sp-3); color: var(--text-tertiary); font-size: 14px; text-align: center;">
        â†‘ This is what Terminal looks like
      </p>

      <h3 style="margin-top: var(--sp-8); margin-bottom: var(--sp-4); font-size: 20px;">Navigate to Downloads</h3>
      <p>Copy and paste this command in Terminal, then press <kbd>Enter</kbd>:</p>
      <div class="command-block">
        <button class="btn-copy" onclick="copyCommand(this, 'cd ~/Downloads')" aria-label="Copy cd ~/Downloads command">Copy</button>
        <code>cd ~/Downloads</code>
      </div>
    </div>
    <div class="step-navigation">
      <button class="btn btn-secondary" onclick="prevStep()">â† Back</button>
      <button class="btn btn-primary btn-large" onclick="nextStep()">Terminal open? â†’</button>
    </div>
  </section>

  <!-- Step 6: Run the Script -->
  <section class="wizard-step" id="step-6" data-step="6">
    <div class="step-header">
      <div class="step-number">Step 6 of 10</div>
      <h2 class="step-title">
        <span data-os-show="mac">Run the Script</span>
        <span data-os-show="windows" class="os-hidden">Complete Setup in Ubuntu</span>
      </h2>
      <p class="step-description">
        <span data-os-show="mac">Now we'll run the installer.</span>
        <span data-os-show="windows" class="os-hidden">The installer opened Ubuntu. Run one more command to finish.</span>
      </p>
    </div>
    <div class="step-content">

      <!-- Mac: run bash script -->
      <div data-os-show="mac">
        <div class="instruction warning">
          <div class="instruction-title">âš ï¸ Don't Close Terminal or Press âŒ˜C</div>
          <p>Keep Terminal open until you see <strong>"SUCCESS!"</strong> â€” closing it or pressing <kbd>âŒ˜ Command</kbd> + <kbd>C</kbd> will cancel the installation.</p>
        </div>

        <div class="command-block">
          <button class="btn-copy" onclick="copyCommand(this, 'bash install.sh')" aria-label="Copy bash install.sh command">Copy</button>
          <code>bash install.sh</code>
        </div>

        <div class="instruction">
          <div class="instruction-title">ğŸ‘‰ What to do:</div>
          <p>1. Make sure Terminal is active (click on it)</p>
          <p>2. Hold <kbd>âŒ˜ Command</kbd> and press <kbd>V</kbd> to paste</p>
          <p>3. Press <kbd>Enter</kbd></p>
        </div>
      </div>

      <!-- Windows: openclaw onboard in Ubuntu -->
      <div data-os-show="windows" class="os-hidden">
        <div class="instruction info" style="margin-bottom: var(--sp-4);">
          <div class="instruction-title">ğŸ§ You're now in Ubuntu</div>
          <p>The Ubuntu terminal is open (the black window with <code>username@DESKTOP:~$</code>). This is normal â€” OpenClaw lives here.</p>
        </div>

        <p style="margin-bottom: var(--sp-3);">Copy this command and paste it into the Ubuntu terminal, then press <kbd>Enter</kbd>:</p>

        <div class="command-block">
          <button class="btn-copy" onclick="copyCommand(this, 'openclaw onboard --install-daemon')" aria-label="Copy onboard command">Copy</button>
          <code>openclaw onboard --install-daemon</code>
        </div>

        <div class="instruction" style="margin-top: var(--sp-4);">
          <div class="instruction-title">ğŸ‘‰ To paste in Ubuntu terminal:</div>
          <p>1. Click inside the Ubuntu window</p>
          <p>2. Press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>V</kbd> (note: Shift+V, not just V)</p>
          <p>3. Press <kbd>Enter</kbd></p>
        </div>

        <div class="instruction warning" style="margin-top: var(--sp-4);">
          <div class="instruction-title">âš ï¸ The onboarding wizard will ask questions</div>
          <p>The wizard will ask for your AI provider API key and a few other settings. For most questions, press <kbd>Enter</kbd> to accept the default.</p>
          <p style="margin-top: var(--sp-2); font-size: 14px;"><strong>Save the gateway token</strong> it shows you â€” you'll need it to connect to the dashboard.</p>
        </div>

        <details class="collapsible" style="margin-top: var(--sp-3);">
          <summary>â“ Ubuntu didn't open automatically?</summary>
          <div class="collapsible-content">
            <p>Open Ubuntu manually:</p>
            <ol style="margin-left: var(--sp-6); line-height: 2; margin-top: var(--sp-2);">
              <li>Press the <kbd>Win</kbd> key</li>
              <li>Type <strong>Ubuntu</strong></li>
              <li>Click <strong>Ubuntu 22.04</strong></li>
            </ol>
            <p style="margin-top: var(--sp-2);">Then run: <code>openclaw onboard --install-daemon</code></p>
          </div>
        </details>
      </div>

    </div>
    <div class="step-navigation">
      <button class="btn btn-secondary" onclick="prevStep()">â† Back</button>
      <button class="btn btn-primary btn-large" onclick="nextStep()">
        <span data-os-show="mac">Pressed Enter? â†’</span>
        <span data-os-show="windows" class="os-hidden">Onboarding complete? â†’</span>
      </button>
    </div>
  </section>

  <!-- Step 7: Watch It Install -->
  <section class="wizard-step" id="step-7" data-step="7">
    <div class="step-header">
      <div class="step-number">Step 7 of 10</div>
      <h2 class="step-title">Watch It Install</h2>
      <p class="step-description">
        <span data-os-show="mac">The script is running. Here's what you'll see.</span>
        <span data-os-show="windows" class="os-hidden">The installer is running automatically. Sit tight.</span>
      </p>
    </div>
    <div class="step-content">

      <!-- Mac install (unchanged) -->
      <div data-os-show="mac">
        <div class="instruction info" style="margin-bottom: var(--sp-6);">
          <div class="instruction-title">â„¹ï¸ What to Expect</div>
          <p><strong>The script will ask you to confirm each step.</strong> You'll see prompts like:</p>
          <div class="terminal" style="margin-top: var(--sp-3); font-size: 13px;">
            <span style="color: #4ade80;">?</span> Ready to begin? [y/N]:
          </div>
          <p style="margin-top: var(--sp-3);">Type <kbd>y</kbd> and press <kbd>Enter</kbd> to continue. You'll do this ~5-6 times during setup.</p>
        </div>

        <div class="instruction warning" style="font-size: 18px; margin-bottom: var(--sp-6);">
          <div class="instruction-title" style="font-size: 20px;">ğŸ” PASSWORD PROMPT HEADS-UP</div>
          <p style="font-size: 18px; font-weight: 700; margin-bottom: var(--sp-3);">When macOS asks for your password, YOU WON'T SEE ANYTHING when you type.</p>
          <p style="font-size: 16px;">No dots, no stars, nothing. This is normal! Look for the ğŸ” keyhole icon in your menu bar â€” that means macOS is waiting. Just type your password and press <kbd>Enter</kbd>.</p>
        </div>

        <div class="terminal">
          <span class="terminal-output">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br>
          <span class="terminal-output">Installing Homebrew...</span><br>
          <span class="terminal-output">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span><br>
          <span class="terminal-output">[Text scrolling by â€” this is normal]</span>
        </div>

        <div class="instruction">
          <div class="instruction-title">â±ï¸ This takes 2-5 minutes</div>
          <p>You'll see text scrolling â€” that's the script installing Homebrew, Node.js, and OpenClaw.</p>
          <p><strong>Don't close Terminal.</strong> Just wait for the next prompt.</p>
          <p style="margin-top: var(--sp-2); color: var(--text-secondary); font-size: 14px;">ğŸ’¡ Already have Homebrew or Node.js? The script will detect and skip those steps automatically.</p>
        </div>
      </div>

      <!-- Windows install wait -->
      <div data-os-show="windows" class="os-hidden">
        <div class="instruction info" style="margin-bottom: var(--sp-6);">
          <div class="instruction-title">â„¹ï¸ What the script is doing</div>
          <p>The PowerShell window is automatically installing:</p>
          <ol style="margin-left: var(--sp-6); margin-top: var(--sp-3); line-height: 2;">
            <li><strong>WSL2</strong> â€” Windows Subsystem for Linux (Microsoft's official Linux layer)</li>
            <li><strong>Ubuntu 22.04</strong> â€” A Linux environment where OpenClaw will run</li>
            <li><strong>Node.js</strong> â€” The runtime OpenClaw needs</li>
            <li><strong>OpenClaw</strong> â€” Your AI agent</li>
          </ol>
          <p style="margin-top: var(--sp-3); color: var(--text-secondary); font-size: 14px;">You don't need to do anything â€” just leave the PowerShell window open.</p>
        </div>

        <div class="instruction warning" style="margin-bottom: var(--sp-6);">
          <div class="instruction-title">âš ï¸ Your PC may restart automatically</div>
          <p>If this is the first time WSL2 is installed on your PC, Windows needs a restart to finish. The script will:</p>
          <ol style="margin-left: var(--sp-6); margin-top: var(--sp-3); line-height: 2;">
            <li>Tell you a restart is needed</li>
            <li>Ask if you want to restart now (type <kbd>y</kbd>)</li>
            <li>Automatically resume after restart â€” no action needed</li>
          </ol>
          <p style="margin-top: var(--sp-3); font-weight: 600;">Save any open work before the restart!</p>
        </div>

        <div class="instruction">
          <div class="instruction-title">â±ï¸ This takes 20-40 minutes</div>
          <p>Most of the time is downloading Ubuntu (~500MB). The PowerShell window shows progress.</p>
          <p><strong>Don't close the PowerShell window.</strong> You'll see a success message when it's done.</p>
        </div>

        <div class="instruction info" style="margin-top: var(--sp-6);">
          <div class="instruction-title">ğŸ§ When it finishes: Ubuntu will open</div>
          <p>When the script completes, an Ubuntu terminal will open (black window, different prompt). This is where OpenClaw runs.</p>
          <div class="terminal" style="margin-top: var(--sp-3); font-size: 13px;">
            <span class="terminal-prompt">ubuntu@DESKTOP-XYZ:~$</span> <span class="cursor">â–ˆ</span>
          </div>
          <p style="margin-top: var(--sp-3);">â†‘ This is what you'll see. It's a Linux terminal â€” totally normal. The next step will walk you through what to type.</p>
        </div>
      </div>

    </div>
    <div class="step-navigation">
      <button class="btn btn-secondary" onclick="prevStep()">â† Back</button>
      <button class="btn btn-primary btn-large" onclick="nextStep()">
        <span data-os-show="mac">See "Which AI provider?" â†’</span>
        <span data-os-show="windows" class="os-hidden">Script finished? â†’</span>
      </button>
    </div>
  </section>

  <!-- Step 8: Answer the Questions -->
  <section class="wizard-step" id="step-8" data-step="8">
    <div class="step-header">
      <div class="step-number">Step 8 of 10</div>
      <h2 class="step-title">Answer the Questions</h2>
      <p class="step-description">The OpenClaw setup wizard will ask you a few questions.</p>
    </div>
    <div class="step-content">
      <div class="instruction info" style="margin-bottom: var(--sp-6);">
        <div class="instruction-title">â„¹ï¸ What You'll Be Asked</div>
        <p>The wizard will guide you through setup. Here's what to expect:</p>
        <ul style="margin-left: var(--sp-6); margin-top: var(--sp-3); line-height: 1.8;">
          <li><strong>AI Provider:</strong> Choose OpenRouter (recommended, $5-10 to start) or Anthropic</li>
          <li><strong>API Key:</strong> Paste your OpenCode Zen or OpenRouter key (or press Enter to skip for now)</li>
          <li><strong>Gateway Port:</strong> Accept the default (18789)</li>
          <li><strong>Install Daemon:</strong> Say yes (keeps your bot running 24/7)</li>
        </ul>
        <p style="margin-top: var(--sp-3);"><strong>For most questions:</strong> Press <kbd>Enter</kbd> to accept the default.</p>
      </div>

      <div class="instruction warning" style="margin-bottom: var(--sp-6);">
        <div class="instruction-title">âš ï¸ SAVE THE GATEWAY TOKEN</div>
        <p style="font-size: 18px; font-weight: 700; margin-bottom: var(--sp-3);">When you see a long random string (the gateway token), COPY IT SOMEWHERE SAFE.</p>
        <p>You'll need this token to connect to the dashboard. Think of it like a password for your bot.</p>
        <p style="margin-top: var(--sp-2); font-size: 14px; color: var(--text-secondary);">ğŸ’¡ Don't have a place to save it? Paste it into Notes, Messages, or take a screenshot.</p>
      </div>

      <details class="collapsible">
        <summary>ğŸ”‘ Don't have an API key? Get one now</summary>
        <div class="collapsible-content">

          <h4 style="margin-bottom: var(--sp-2);">ğŸ†“ OpenCode Zen â€” Free models (payment method required)</h4>
          <p style="margin-bottom: var(--sp-2); color: var(--text-secondary); font-size: 14px;">Free models available (Kimi K2.5, MiniMax, GLM) â€” $0/month if you stick to free models, but a credit card is required to sign up.</p>
          <ol style="margin-left: var(--sp-6); margin-top: var(--sp-2); line-height: 1.8;">
            <li>Go to <a href="https://opencode.ai/auth" target="_blank" style="color: var(--accent);">opencode.ai/auth</a></li>
            <li>Sign up with email or GitHub</li>
            <li>Copy your API key from the dashboard</li>
            <li>Paste it when the installer asks for your key</li>
          </ol>
          <p style="margin-top: var(--sp-2); font-size: 14px; color: var(--text-secondary);">ğŸ’¡ The default model (Kimi K2.5 Free) runs at $0/month until you choose to upgrade.</p>

          <h4 style="margin-top: var(--sp-6); margin-bottom: var(--sp-2);">ğŸ’³ OpenRouter â€” More models, pay-as-you-go</h4>
          <p style="margin-bottom: var(--sp-2); color: var(--text-secondary); font-size: 14px;">Best if you want access to GPT-4o, Claude, Gemini, and hundreds of other models.</p>
          <ol style="margin-left: var(--sp-6); margin-top: var(--sp-2); line-height: 1.8;">
            <li>Go to <a href="https://openrouter.ai/keys" target="_blank" style="color: var(--accent);">openrouter.ai/keys</a></li>
            <li>Sign up with email or Google</li>
            <li>Add $5-10 in credits</li>
            <li>Create an API key (starts with <code>sk-or-v1-</code>)</li>
            <li><strong>Save it somewhere safe!</strong> You won't be able to see it again.</li>
            <li>Paste it when the installer asks for your key</li>
          </ol>

          <h4 style="margin-top: var(--sp-6); margin-bottom: var(--sp-2);">ğŸ’¡ Typical Costs (OpenRouter)</h4>
          <ul style="margin-left: var(--sp-6); line-height: 1.8;">
            <li>Simple chats: ~$0.01 each</li>
            <li>Complex tasks: ~$0.05-0.10 each</li>
            <li>Most users spend $5-15/month</li>
          </ul>
          <p style="margin-top: var(--sp-3); font-size: 14px; color: var(--text-secondary);">You control your budget â€” set a spending limit in OpenRouter settings.</p>
        </div>
      </details>

      <div class="instruction warning" style="margin-top: var(--sp-6);">
        <div class="instruction-title">âš™ï¸ If You See "OpenClaw Config Wizard"</div>
        <p style="font-size: 18px; font-weight: 700; margin-bottom: var(--sp-3);">Press <kbd>ESC</kbd> to skip it</p>
        <p>The Config Wizard asks 20+ questions about tool permissions. ClawStarter already has a curated config â€” skipping saves 10 minutes and uses safer defaults.</p>
      </div>
    </div>
    <div class="step-navigation">
      <button class="btn btn-secondary" onclick="prevStep()">â† Back</button>
      <button class="btn btn-primary btn-large" onclick="nextStep()">Wizard complete? â†’</button>
    </div>
  </section>

  <!-- Step 9: You're Live! -->
  <section class="wizard-step" id="step-9" data-step="9">
    <div class="step-header">
      <div class="step-number">Step 9 of 10</div>
      <h2 class="step-title">ğŸ‰ You're Live!</h2>
      <p class="step-description">Your bot is running. Here's what you'll see.</p>
    </div>
    <div class="step-content">
      <div class="terminal">
        <span class="terminal-success">âœ“ Creating config file...</span><br>
        <span class="terminal-success">âœ“ Setting up workspace...</span><br>
        <span class="terminal-success">âœ“ Installing LaunchAgent...</span><br>
        <span class="terminal-success">âœ“ Starting gateway...</span><br>
        <br>
        <span class="terminal-success">ğŸ‰ SUCCESS! Your bot is alive.</span><br>
        <br>
        <span class="terminal-output">Dashboard: http://127.0.0.1:18789/</span><br>
        <span class="terminal-output">Gateway token: [long random string]</span><br>
        <br>
        <span class="terminal-warning">Save the token somewhere safe!</span>
      </div>

      <div class="instruction success">
        <div class="instruction-title">ğŸŠ Celebration!</div>
        <p>Your personal AI is now running on your Mac.</p>
      </div>

      <div class="instruction">
        <div class="instruction-title">ğŸ‘‰ What to do:</div>
        <p>1. Hold <kbd>âŒ˜ Command</kbd> and press <kbd>A</kbd> to select all the Terminal output</p>
        <p>2. Hold <kbd>âŒ˜ Command</kbd> and press <kbd>C</kbd> to copy</p>
        <p>3. Save it in Notes or a password manager</p>
        <p>4. Click the dashboard URL or copy it to your browser:</p>
      </div>

      <div class="command-block">
        <button class="btn-copy" onclick="copyCommand(this, 'http://127.0.0.1:18789/')" aria-label="Copy dashboard URL">Copy</button>
        <code>http://127.0.0.1:18789/</code>
      </div>
    </div>
    <div class="step-navigation">
      <button class="btn btn-secondary" onclick="prevStep()">â† Back</button>
      <button class="btn btn-primary btn-large" onclick="nextStep()">Dashboard open? â†’</button>
    </div>
  </section>

  <!-- Step 10: Now What? -->
  <section class="wizard-step" id="step-10" data-step="10">
    <div class="step-header">
      <div class="step-number">Step 10 of 10</div>
      <h2 class="step-title">Now What?</h2>
      <p class="step-description">Your bot is ready. Here's what to do next.</p>
    </div>
    <div class="step-content">
      <div class="instruction success">
        <div class="instruction-title">ğŸ‰ You're all set!</div>
        <p>Your bot is running! It will ask you personalization questions to learn your preferences.</p>
        <!-- Mac tip -->
        <p data-os-show="mac" style="margin-top: var(--sp-2); font-size: 14px; color: var(--text-secondary);">ğŸ’¡ <strong>If you created a separate user account:</strong> You can now log back into your main account. Your bot keeps running in the background â€” access it at <code>http://127.0.0.1:18789/</code> from any account on this Mac.</p>
        <!-- Windows tip -->
        <div data-os-show="windows" class="os-hidden" style="margin-top: var(--sp-3); padding: var(--sp-3); background: var(--accent-subtle); border-radius: var(--r-md); font-size: 14px;">
          <p>ğŸ’¡ <strong>OpenClaw runs inside Ubuntu.</strong> To use it in the future:</p>
          <ol style="margin-left: var(--sp-4); margin-top: var(--sp-2); line-height: 1.8;">
            <li>Press <kbd>Win</kbd> key â†’ type <strong>Ubuntu</strong> â†’ open Ubuntu 22.04</li>
            <li>Run <code>openclaw gateway start</code> if the gateway isn't running</li>
            <li>Open <code>http://127.0.0.1:18789</code> in your browser</li>
          </ol>
          <p style="margin-top: var(--sp-2); color: var(--text-secondary);">Your files live at <code>\\wsl$\Ubuntu\home\[username]\.openclaw\</code> in Windows Explorer.</p>
        </div>
      </div>

      <div class="instruction warning" style="margin-top: var(--sp-6);">
        <div class="instruction-title">ğŸ”‘ Connecting to the Dashboard</div>
        <p>The terminal showed you a <strong>gateway token</strong> â€” think of it like a password that lets you control your bot.</p>
        <ol style="margin-left: var(--sp-6); margin-top: var(--sp-3); line-height: 1.8;">
          <li>Open the dashboard: <code>http://127.0.0.1:18789</code></li>
          <li>Click <strong>Control UI</strong> (top-right corner)</li>
          <li>Paste your gateway token</li>
          <li>Click <strong>Connect</strong></li>
        </ol>
        
        <details style="margin-top: var(--sp-4);">
          <summary style="cursor: pointer; font-weight: 600; color: var(--text-heading);">â“ Troubleshooting</summary>
          <div style="margin-top: var(--sp-3); padding-left: var(--sp-4); border-left: 2px solid var(--border);">
            <p><strong>Don't see the token?</strong></p>
            <div class="command-block" style="margin-top: var(--sp-2);">
              <code>jq -r '.gateway.token' ~/.openclaw/openclaw.json</code>
            </div>
            
            <p style="margin-top: var(--sp-4);"><strong>Dashboard shows "disconnected (1008): unauthorized"?</strong></p>
            <p style="margin-top: var(--sp-2); font-size: 14px;">The token is missing or incorrect. Find it with the command above, then paste it in Control UI.</p>
            
            <p style="margin-top: var(--sp-4);"><strong>Dashboard won't load at all?</strong></p>
            <p style="margin-top: var(--sp-2); font-size: 14px;">Check if the gateway is running:</p>
            <div class="command-block" style="margin-top: var(--sp-2);">
              <code>openclaw gateway status</code>
            </div>
            <p style="margin-top: var(--sp-2); font-size: 14px;">If not running, start it:</p>
            <div class="command-block" style="margin-top: var(--sp-2);">
              <code>openclaw gateway start</code>
            </div>
            
            <p style="margin-top: var(--sp-4);"><strong>Port not listening?</strong></p>
            <p style="margin-top: var(--sp-2); font-size: 14px;">Wait 10-15 seconds for the gateway to start, then refresh. Still not working? Restart:</p>
            <div class="command-block" style="margin-top: var(--sp-2);">
              <code>openclaw gateway restart</code>
            </div>
          </div>
        </details>
        
        <div class="instruction danger" style="margin-top: var(--sp-4); font-size: 14px;">
          <strong>âš ï¸ Security:</strong> The gateway token grants full control of your bot.
          <ul style="margin-left: var(--sp-4); margin-top: var(--sp-2);">
            <li>Don't share screenshots of the terminal during setup</li>
            <li>Don't commit <code>openclaw.json</code> to git</li>
            <li>Regenerate if exposed: <code>openclaw doctor --generate-gateway-token</code></li>
          </ul>
        </div>
        
        <details style="margin-top: var(--sp-4);">
          <summary style="cursor: pointer; font-weight: 600; color: var(--accent);">ğŸ”’ Want additional security for API keys?</summary>
          <div style="margin-top: var(--sp-3); padding-left: var(--sp-4); border-left: 2px solid var(--border); font-size: 14px;">
            <p><strong>Current setup:</strong> Your API keys are stored in the LaunchAgent (as environment variables) and cached in <code>openclaw.json</code> for performance. File permissions (<code>chmod 600</code>) protect them, but they're readable if someone gets access to your account.</p>
            
            <p style="margin-top: var(--sp-3);"><strong>Enhanced security options:</strong></p>
            <ul style="margin-left: var(--sp-4); margin-top: var(--sp-2); line-height: 1.8;">
              <li><strong>macOS Keychain:</strong> Store keys in the system Keychain (encrypted, requires user password)</li>
              <li><strong>1Password CLI:</strong> Reference keys like <code>op://vault/item/field</code> (never written to disk)</li>
            </ul>
            
            <p style="margin-top: var(--sp-3);">Both methods are covered in <strong>Foundation Playbook Phase 1</strong> (included in the download). Setup takes ~5 minutes and eliminates plaintext credential storage.</p>
            
            <p style="margin-top: var(--sp-3); color: var(--text-secondary);"><em>For most personal use cases, the default setup is sufficient. Consider upgrading if you're handling sensitive data or deploying on a shared machine.</em></p>
          </div>
        </details>
      </div>

      <!-- Discord Community Call-Out -->
      <div class="instruction info" style="margin-top: var(--sp-6); background: linear-gradient(135deg, rgba(88, 101, 242, 0.15), rgba(88, 101, 242, 0.05)); border-left-color: #5865F2;">
        <div class="instruction-title" style="color: #5865F2;">ğŸ’¬ Join the OpenClaw Community</div>
        <p style="margin-bottom: var(--sp-4);">Get help, share tips, and connect with other OpenClaw users!</p>
        <a href="https://discord.gg/UCjDDjNcZq" target="_blank" class="btn btn-primary discord-cta-btn" style="background: #5865F2; border-color: #5865F2;">
          Join Discord â†’
        </a>
      </div>

      <h3 style="font-size: 20px; margin-bottom: var(--sp-4); margin-top: var(--sp-8);">Try your first prompt:</h3>
      <div class="command-block">
        <button class="btn-copy" onclick="copyCommand(this, 'Read BOOTSTRAP.md and run through the setup questions with me.')" aria-label="Copy first prompt">Copy</button>
        <code>Read BOOTSTRAP.md and run through the setup questions with me.</code>
      </div>
      <p style="margin-top: var(--sp-2); color: var(--text-secondary); font-size: 14px;">This tells your bot to read the personalization file and ask you questions to learn who you are and how to help you.</p>

      <h3 style="font-size: 20px; margin-bottom: var(--sp-2); margin-top: var(--sp-8);">Add a chat channel</h3>
      <p style="margin-bottom: var(--sp-4); color: var(--text-secondary); font-size: 14px;">Paste these prompts into your bot's chat (the web dashboard you just opened):</p>

      <div class="expandable">
        <div class="expandable-item">
          <div class="expandable-header" onclick="toggleExpandable(this)">
            <div class="expandable-title">ğŸ’¬ Add Discord channel (best for desktop)</div>
            <span class="expandable-icon">â–¸</span>
          </div>
          <div class="expandable-content">
            <div class="expandable-body">
              <p>Want to chat with your bot via Discord? Copy this message and paste it into your bot's chat:</p>
              <div class="command-block">
                <button class="btn-copy" onclick="copyCommand(this, 'Help me set up Discord so I can chat with you instead of using the web dashboard.')" aria-label="Copy Discord setup request">Copy</button>
                <code>Help me set up Discord so I can chat with you instead of using the web dashboard.</code>
              </div>
              <p style="margin-top: var(--sp-3);">Your bot will walk you through the setup step-by-step. Takes about 10 minutes.</p>
            </div>
          </div>
        </div>

        <div class="expandable-item">
          <div class="expandable-header" onclick="toggleExpandable(this)">
            <div class="expandable-title">ğŸ“± Add Telegram (fastest setup, works everywhere)</div>
            <span class="expandable-icon">â–¸</span>
          </div>
          <div class="expandable-content">
            <div class="expandable-body">
              <p>Chat with your bot from your phone via Telegram. Copy this message and paste it into your bot's chat:</p>
              <div class="command-block">
                <button class="btn-copy" onclick="copyCommand(this, 'Help me set up Telegram so I can chat with you from anywhere.')" aria-label="Copy Telegram setup request">Copy</button>
                <code>Help me set up Telegram so I can chat with you from anywhere.</code>
              </div>
              <p style="margin-top: var(--sp-3);">Just needs a BotFather token â€” takes about 5 minutes.</p>
            </div>
          </div>
        </div>

        <div class="expandable-item">
          <div class="expandable-header" onclick="toggleExpandable(this)">
            <div class="expandable-title">ğŸ Add iMessage (Mac, iPhone, iPad)</div>
            <span class="expandable-icon">â–¸</span>
          </div>
          <div class="expandable-content">
            <div class="expandable-body">
              <p>Chat with your bot via iMessage on your Mac, iPhone, or iPad. Copy this message and paste it into your bot's chat:</p>
              <div class="command-block">
                <button class="btn-copy" onclick="copyCommand(this, 'Help me set up iMessage so I can text you from my Apple devices.')" aria-label="Copy iMessage setup request">Copy</button>
                <code>Help me set up iMessage so I can text you from my Apple devices.</code>
              </div>
              <p style="margin-top: var(--sp-3);">Requires macOS permissions setup â€” takes about 15 minutes.</p>
            </div>
          </div>
        </div>

        <div class="expandable-item">
          <div class="expandable-header" onclick="toggleExpandable(this)">
            <div class="expandable-title">ğŸ“± More channels</div>
            <span class="expandable-icon">â–¸</span>
          </div>
          <div class="expandable-content">
            <div class="expandable-body">
              <ul style="margin-left: var(--sp-6); line-height: 1.8;">
                <li><strong>WhatsApp</strong> â€” Ask your bot: "How do I set up WhatsApp?"</li>
                <li><strong>Slack</strong> â€” <span style="color: var(--text-tertiary);">Coming soon</span></li>
              </ul>
              <p style="margin-top: var(--sp-3);">Ask your bot: "How do I set up [channel name]?"</p>
            </div>
          </div>
        </div>

        <div class="expandable-item">
          <div class="expandable-header" onclick="toggleExpandable(this)">
            <div class="expandable-title">ğŸ¦ Connect to X (Twitter)</div>
            <span class="expandable-icon">â–¸</span>
          </div>
          <div class="expandable-content">
            <div class="expandable-body">
              <p>Let your bot post tweets, search X, and engage with your audience.</p>
              <p style="margin-top: var(--sp-3);"><strong>What you'll need:</strong></p>
              <ul style="margin-left: var(--sp-6); line-height: 1.8;">
                <li>X Developer account (free)</li>
                <li>OAuth 2.0 app credentials</li>
              </ul>
              <p style="margin-top: var(--sp-3);"><strong>Setup:</strong> See <code>docs/x-twitter-integration.md</code> in your ClawStarter folder, or ask your bot: "Help me set up X/Twitter integration"</p>
              <p style="margin-top: var(--sp-3); font-size: 14px; color: var(--text-secondary);">âš ï¸ Always use OAuth 2.0 â€” OAuth 1.0a has known issues with long tweets.</p>
            </div>
          </div>
        </div>

        <div class="expandable-item">
          <div class="expandable-header" onclick="toggleExpandable(this)">
            <div class="expandable-title">ğŸ“– Understanding SOUL.md and AGENTS.md</div>
            <span class="expandable-icon">â–¸</span>
          </div>
          <div class="expandable-content">
            <div class="expandable-body">
              <p><strong>SOUL.md</strong> â€” Who your bot IS (personality, boundaries, vibe)</p>
              <p><strong>AGENTS.md</strong> â€” How your bot WORKS (memory, tools, routines)</p>
              <p style="margin-top: var(--sp-3);">You can edit these anytime to customize your AI's behavior. They're in <code>~/.openclaw/workspace/</code></p>
            </div>
          </div>
        </div>

        <div class="expandable-item">
          <div class="expandable-header" onclick="toggleExpandable(this)">
            <div class="expandable-title">ğŸ’° Cost breakdown</div>
            <span class="expandable-icon">â–¸</span>
          </div>
          <div class="expandable-content">
            <div class="expandable-body">
              <p><strong>Typical monthly costs:</strong> $5-15</p>
              <ul style="margin-left: var(--sp-6); line-height: 1.8; margin-top: var(--sp-2);">
                <li>Simple chats: ~$0.01 each</li>
                <li>Complex tasks: ~$0.05-0.10 each</li>
                <li>Most users spend $10-15/month</li>
              </ul>
              <p style="margin-top: var(--sp-3);">You control your budget â€” set a spending limit in your provider dashboard.</p>
            </div>
          </div>
        </div>

        <div class="expandable-item">
          <div class="expandable-header" onclick="toggleExpandable(this)">
            <div class="expandable-title">ğŸ†˜ Need help?</div>
            <span class="expandable-icon">â–¸</span>
          </div>
          <div class="expandable-content">
            <div class="expandable-body">
              <p><strong>Join the community:</strong></p>
              <p><a href="https://discord.gg/UCjDDjNcZq" target="_blank" style="color: var(--accent);">Discord Community</a> â€” Ask questions, share tips</p>
              <p style="margin-top: var(--sp-3);"><strong>Troubleshooting:</strong></p>
              <p>Click the ğŸ”§ button in the header (top right) for common fixes.</p>
            </div>
          </div>
        </div>
      </div>

      <div style="text-align: center; margin-top: var(--sp-8);">
        <p style="font-size: 18px; color: var(--text-secondary); margin-bottom: var(--sp-4);">
          ğŸŠ <strong>Congratulations!</strong> You've completed the setup.
        </p>
        <a href="index.html" class="btn btn-secondary">â† Back to Home</a>
      </div>
    </div>
  </section>

</div>

<!-- Help Panel (Slide-out) -->
<div class="help-panel" id="helpPanel">
  <div class="help-panel-header">
    <h2 class="help-panel-title">ğŸ”§ Troubleshooting</h2>
    <button class="help-close" onclick="toggleHelp()" aria-label="Close help panel">Ã—</button>
  </div>
  <div class="help-panel-content">
    <div class="help-section">
      <h3>Common Errors</h3>
      
      <div class="help-item">
        <div class="help-item-header" onclick="toggleHelpItem(this)">
          <div class="help-item-title">ğŸš¨ "Permission denied" error</div>
          <span class="help-item-icon">â–¸</span>
        </div>
        <div class="help-item-content">
          <div class="help-item-body">
            <p><strong>Fix:</strong> Run the script with sudo:</p>
            <div class="command-block">
              <button class="btn-copy" onclick="copyCommand(this, 'sudo bash install.sh')" aria-label="Copy sudo bash install.sh command">Copy</button>
              <code>sudo bash install.sh</code>
            </div>
            <p style="margin-top: var(--sp-3);">You'll be asked for your password. Type it (you won't see it) and press Enter.</p>
          </div>
        </div>
      </div>

      <div class="help-item">
        <div class="help-item-header" onclick="toggleHelpItem(this)">
          <div class="help-item-title">ğŸš¨ "Command not found" error</div>
          <span class="help-item-icon">â–¸</span>
        </div>
        <div class="help-item-content">
          <div class="help-item-body">
            <p><strong>This means:</strong> Homebrew isn't in your PATH yet.</p>
            <p><strong>Fix:</strong> Close Terminal and open a new window, then try again.</p>
            <p style="margin-top: var(--sp-3);">If that doesn't work, run:</p>
            <div class="command-block">
              <button class="btn-copy" onclick="copyCommand(this, 'eval \"$(/opt/homebrew/bin/brew shellenv)\"')" aria-label="Copy brew shellenv command">Copy</button>
              <code>eval "$(/opt/homebrew/bin/brew shellenv)"</code>
            </div>
          </div>
        </div>
      </div>

      <div class="help-item">
        <div class="help-item-header" onclick="toggleHelpItem(this)">
          <div class="help-item-title">ğŸš¨ "Connection refused" when opening dashboard</div>
          <span class="help-item-icon">â–¸</span>
        </div>
        <div class="help-item-content">
          <div class="help-item-body">
            <p><strong>This means:</strong> The gateway didn't start.</p>
            <p><strong>Fix:</strong> Start it manually:</p>
            <div class="command-block">
              <button class="btn-copy" onclick="copyCommand(this, 'openclaw gateway start')" aria-label="Copy openclaw gateway start command">Copy</button>
              <code>openclaw gateway start</code>
            </div>
            <p style="margin-top: var(--sp-3);">Wait 10 seconds, then try opening the dashboard again.</p>
          </div>
        </div>
      </div>

      <div class="help-item">
        <div class="help-item-header" onclick="toggleHelpItem(this)">
          <div class="help-item-title">ğŸš¨ Bot isn't responding</div>
          <span class="help-item-icon">â–¸</span>
        </div>
        <div class="help-item-content">
          <div class="help-item-body">
            <p><strong>Check if gateway is running:</strong></p>
            <div class="command-block">
              <button class="btn-copy" onclick="copyCommand(this, 'openclaw gateway status')" aria-label="Copy openclaw gateway status command">Copy</button>
              <code>openclaw gateway status</code>
            </div>
            <p style="margin-top: var(--sp-3);"><strong>If stopped, start it:</strong></p>
            <div class="command-block">
              <button class="btn-copy" onclick="copyCommand(this, 'openclaw gateway start')" aria-label="Copy openclaw gateway start command">Copy</button>
              <code>openclaw gateway start</code>
            </div>
            <p style="margin-top: var(--sp-3);"><strong>Check logs for errors:</strong></p>
            <div class="command-block">
              <button class="btn-copy" onclick="copyCommand(this, 'tail -n 50 ~/.openclaw/logs/gateway.err.log')" aria-label="Copy tail logs command">Copy</button>
              <code>tail -n 50 ~/.openclaw/logs/gateway.err.log</code>
            </div>
          </div>
        </div>
      </div>

      <div class="help-item">
        <div class="help-item-header" onclick="toggleHelpItem(this)">
          <div class="help-item-title">ğŸš¨ "API key invalid" error</div>
          <span class="help-item-icon">â–¸</span>
        </div>
        <div class="help-item-content">
          <div class="help-item-body">
            <p><strong>Common causes:</strong></p>
            <ul style="margin-left: var(--sp-6); line-height: 1.8; margin-top: var(--sp-2);">
              <li>Extra spaces before/after the key when you pasted it</li>
              <li>Copied the wrong key (check it starts with <code>sk-or-v1-</code> for OpenRouter or <code>sk-ant-</code> for Anthropic)</li>
              <li>Key was revoked or deleted from provider dashboard</li>
            </ul>
            <p style="margin-top: var(--sp-3);"><strong>Fix:</strong> Re-run the setup and paste the key carefully.</p>
          </div>
        </div>
      </div>

      <div class="help-item">
        <div class="help-item-header" onclick="toggleHelpItem(this)">
          <div class="help-item-title">ğŸ—‘ï¸ How do I remove everything?</div>
          <span class="help-item-icon">â–¸</span>
        </div>
        <div class="help-item-content">
          <div class="help-item-body">
            <p><strong>Complete uninstall steps:</strong></p>
            <ol style="margin-left: var(--sp-6); margin-top: var(--sp-2); line-height: 1.8;">
              <li>Stop the bot:
                <div class="command-block" style="margin-top: var(--sp-2);">
                  <button class="btn-copy" onclick="copyCommand(this, 'openclaw gateway stop')" aria-label="Copy openclaw gateway stop command">Copy</button>
                  <code>openclaw gateway stop</code>
                </div>
              </li>
              <li style="margin-top: var(--sp-3);">Remove OpenClaw:
                <div class="command-block" style="margin-top: var(--sp-2);">
                  <button class="btn-copy" onclick="copyCommand(this, 'npm uninstall -g openclaw')" aria-label="Copy npm uninstall command">Copy</button>
                  <code>npm uninstall -g openclaw</code>
                </div>
              </li>
              <li style="margin-top: var(--sp-3);">Delete config:
                <div class="command-block" style="margin-top: var(--sp-2);">
                  <button class="btn-copy" onclick="copyCommand(this, 'rm -rf ~/.openclaw')" aria-label="Copy rm -rf ~/.openclaw command">Copy</button>
                  <code>rm -rf ~/.openclaw</code>
                </div>
              </li>
              <li style="margin-top: var(--sp-3);">(Optional) Remove the Mac user account you created for testing</li>
            </ol>
          </div>
        </div>
      </div>

      <div class="help-item">
        <div class="help-item-header" onclick="toggleHelpItem(this)">
          <div class="help-item-title">ğŸ†˜ Still Stuck? Ask Claude for Help</div>
          <span class="help-item-icon">â–¸</span>
        </div>
        <div class="help-item-content">
          <div class="help-item-body">
            <p>If none of the above works, copy this prompt and paste your error into Claude.ai:</p>
            <div class="command-block">
              <button class="btn-copy" onclick="copyCommand(this, 'I\'m setting up OpenClaw on my Mac using ClawStarter and hit this error:\n\n[paste error here]\n\nI\'m on macOS [your version]. Help me fix it.')" aria-label="Copy Claude troubleshooting prompt">Copy</button>
              <code>I'm setting up OpenClaw on my Mac using ClawStarter and hit this error:

[paste error here]

I'm on macOS [your version]. Help me fix it.</code>
            </div>
            <p style="margin-top: var(--sp-4);">Go to <a href="https://claude.ai" target="_blank" style="color: var(--accent);">claude.ai</a>, paste the prompt, replace [paste error here] with your actual error, and send.</p>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- Footer -->
<footer>
  <p>Built with ğŸ¦ by the OpenClaw community</p>
  <p>
    <a href="https://github.com/jeremyknows/clawstarter" target="_blank">GitHub</a> &middot;
    <a href="https://discord.gg/UCjDDjNcZq" target="_blank">Discord Community</a> &middot;
    <a href="index.html">Back to Home</a>
  </p>
</footer>

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   OS DETECTION & STATE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const OSState = {
  detected: 'mac',
  selected: 'mac',

  detect() {
    const ua = navigator.userAgent || '';
    const platform = navigator.platform || '';
    if (/Win/i.test(platform) || /Windows/i.test(ua)) {
      this.detected = 'windows';
    } else {
      this.detected = 'mac';
    }
    // Restore saved override if any
    const saved = safeGet('openclaw-os');
    this.selected = (saved === 'mac' || saved === 'windows') ? saved : this.detected;
  },

  override(os) {
    if (os !== 'mac' && os !== 'windows') return;
    this.selected = os;
    safeSet('openclaw-os', os);
    this.apply();
  },

  apply() {
    const os = this.selected;
    document.body.setAttribute('data-os', os);

    // Show/hide OS-conditional elements
    document.querySelectorAll('[data-os-show]').forEach(el => {
      const required = el.getAttribute('data-os-show');
      if (required === os) {
        el.classList.remove('os-hidden');
      } else {
        el.classList.add('os-hidden');
      }
    });

    // Update switcher buttons
    const btnMac = document.getElementById('osBtnMac');
    const btnWin = document.getElementById('osBtnWin');
    if (btnMac && btnWin) {
      btnMac.classList.toggle('active', os === 'mac');
      btnWin.classList.toggle('active', os === 'windows');
    }

    // Refresh step counter display; if current step is now hidden, advance to nearest visible
    if (typeof currentStep !== 'undefined' && typeof getVisibleSteps === 'function') {
      const visibleSteps = getVisibleSteps();
      // If current step is not visible for this OS, jump to nearest visible step
      if (!visibleSteps.includes(currentStep)) {
        // Find closest visible step (prefer next, fallback prev)
        const next = visibleSteps.find(s => s > currentStep);
        const prev = [...visibleSteps].reverse().find(s => s < currentStep);
        const target = next || prev || visibleSteps[0];
        if (target) showStep(target);
        return; // showStep will handle counter refresh
      }
      const visIndex = visibleSteps.indexOf(currentStep);
      const visNum = visIndex + 1;
      const visTotal = visibleSteps.length;
      const currentStepEl = document.getElementById('step-' + currentStep);
      if (currentStepEl) {
        const stepNumberEl = currentStepEl.querySelector('.step-number');
        if (stepNumberEl) stepNumberEl.textContent = 'Step ' + visNum + ' of ' + visTotal;
      }
      const mobileText = document.getElementById('mobile-progress-text');
      const mobileFill = document.getElementById('mobile-progress-fill');
      if (mobileText) mobileText.textContent = 'Step ' + visNum + ' of ' + visTotal;
      if (mobileFill) mobileFill.style.width = ((visNum / visTotal) * 100) + '%';
    }
  },

  init() {
    this.detect();
    this.apply();
  }
};

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STATE MANAGEMENT
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let currentStep = 1;
const totalSteps = 10;
let completedSteps = [];

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LOCALSTORAGE HELPERS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function safeGet(key) {
  try {
    return localStorage.getItem(key);
  } catch {
    return null;
  }
}

function safeSet(key, val) {
  try {
    localStorage.setItem(key, val);
  } catch {}
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   THEME TOGGLE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function toggleTheme() {
  const html = document.documentElement;
  const btn = document.getElementById('themeBtn');
  const next = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
  html.setAttribute('data-theme', next);
  btn.textContent = next === 'dark' ? 'â˜€' : 'ğŸŒ™';
  btn.setAttribute('aria-pressed', next === 'light');
  safeSet('theme', next);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HELP PANEL TOGGLE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function toggleHelp() {
  const panel = document.getElementById('helpPanel');
  const overlay = document.getElementById('overlay');
  const isOpen = panel.classList.contains('open');
  
  if (isOpen) {
    panel.classList.remove('open');
    overlay.classList.remove('visible');
  } else {
    panel.classList.add('open');
    overlay.classList.add('visible');
  }
}

function toggleHelpItem(header) {
  const item = header.parentElement;
  item.classList.toggle('open');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STEP NAVIGATION
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function updateStepIndicators() {
  for (let i = 1; i <= totalSteps; i++) {
    const indicator = document.getElementById('step-ind-' + i);
    indicator.classList.remove('active', 'completed', 'disabled');
    indicator.removeAttribute('aria-current');
    
    if (i < currentStep) {
      indicator.classList.add('completed');
    } else if (i === currentStep) {
      indicator.classList.add('active');
      indicator.setAttribute('aria-current', 'step');
    } else {
      indicator.classList.add('disabled');
    }
  }
  
}

/* Returns list of step numbers visible for the current OS */
function getVisibleSteps() {
  const steps = [];
  for (let i = 1; i <= totalSteps; i++) {
    const el = document.getElementById('step-' + i);
    const osReq = el ? el.getAttribute('data-os-step') : null;
    if (!osReq || osReq === OSState.selected) steps.push(i);
  }
  return steps;
}

function showStep(stepNum) {
  // Hide all steps
  document.querySelectorAll('.wizard-step').forEach(step => {
    step.classList.remove('active', 'exiting');
    step.style.display = 'none';
  });

  // Show current step
  const step = document.getElementById('step-' + stepNum);
  step.style.display = 'block';
  setTimeout(() => {
    step.classList.add('active');
  }, 10);

  currentStep = stepNum;
  updateStepIndicators();

  // Update "Step X of N" display in the current step header
  const visibleSteps = getVisibleSteps();
  const visIndex = visibleSteps.indexOf(stepNum);
  const visNum = visIndex + 1;
  const visTotal = visibleSteps.length;
  const stepNumberEl = step.querySelector('.step-number');
  if (stepNumberEl) {
    stepNumberEl.textContent = 'Step ' + visNum + ' of ' + visTotal;
  }

  // Update mobile progress indicator
  const mobileText = document.getElementById('mobile-progress-text');
  const mobileFill = document.getElementById('mobile-progress-fill');
  if (mobileText && mobileFill) {
    mobileText.textContent = 'Step ' + visNum + ' of ' + visTotal;
    mobileFill.style.width = ((visNum / visTotal) * 100) + '%';
  }
  
  // Mark as completed if not already
  if (!completedSteps.includes(stepNum)) {
    completedSteps.push(stepNum);
    safeSet('clawstarter-completed-steps', JSON.stringify(completedSteps));
  }
  
  // Save current step
  safeSet('clawstarter-current-step', stepNum);
  
  // Scroll to top
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function nextStep() {
  let target = currentStep + 1;
  while (target <= totalSteps) {
    const el = document.getElementById('step-' + target);
    const osReq = el ? el.getAttribute('data-os-step') : null;
    if (!osReq || osReq === OSState.selected) break;
    target++;
  }
  if (target <= totalSteps) showStep(target);
}

function prevStep() {
  let target = currentStep - 1;
  while (target >= 1) {
    const el = document.getElementById('step-' + target);
    const osReq = el ? el.getAttribute('data-os-step') : null;
    if (!osReq || osReq === OSState.selected) break;
    target--;
  }
  if (target >= 1) showStep(target);
}

function jumpToStep(stepNum) {
  // Can only jump to completed steps or next step
  if (completedSteps.includes(stepNum) || stepNum === currentStep + 1) {
    showStep(stepNum);
  }
}

function handleStepKey(event, stepNum) {
  // Activate step indicator on Enter or Space (accessibility)
  if (event.key === 'Enter' || event.key === ' ') {
    event.preventDefault();
    jumpToStep(stepNum);
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   KEYBOARD NAVIGATION
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
document.addEventListener('keydown', function(e) {
  // Don't trigger if help panel is open or user is typing in an input
  if (document.getElementById('helpPanel').classList.contains('open')) return;
  if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
  
  if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
    e.preventDefault();
    nextStep();
  } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
    e.preventDefault();
    prevStep();
  } else if (e.key === 'Escape') {
    const panel = document.getElementById('helpPanel');
    if (panel.classList.contains('open')) {
      toggleHelp();
    }
  } else if (e.key === '?' || (e.shiftKey && e.key === '/')) {
    e.preventDefault();
    toggleHelp();
  }
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CHECKLIST STATE
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function updateChecklistState() {
  const check1 = document.getElementById('check-1');
  const check2 = document.getElementById('check-2');
  const check3 = document.getElementById('check-3');
  const check4 = document.getElementById('check-4');
  const check5 = document.getElementById('check-5');
  const nextBtn = document.getElementById('checklist-next');
  
  safeSet('check-1', check1?.checked ? '1' : '0');
  safeSet('check-2', check2?.checked ? '1' : '0');
  safeSet('check-3', check3?.checked ? '1' : '0');
  safeSet('check-4', check4?.checked ? '1' : '0');
  safeSet('check-5', check5?.checked ? '1' : '0');
  
  // Require checks 1-4 (check 5 is optional - account setup)
  const allRequired = check1?.checked && check2?.checked && check3?.checked && check4?.checked;
  
  if (nextBtn && OSState.selected === 'mac') {
    if (allRequired) {
      nextBtn.disabled = false;
      nextBtn.style.opacity = '1';
      nextBtn.style.cursor = 'pointer';
    } else {
      nextBtn.disabled = true;
      nextBtn.style.opacity = '0.5';
      nextBtn.style.cursor = 'not-allowed';
    }
  }
}

function updateWinChecklistState() {
  const c1 = document.getElementById('win-check-1');
  const c2 = document.getElementById('win-check-2');
  const c3 = document.getElementById('win-check-3');
  const c4 = document.getElementById('win-check-4');
  const nextBtn = document.getElementById('checklist-next');
  // Require first 4 (API key is optional)
  const allRequired = c1?.checked && c2?.checked && c3?.checked && c4?.checked;
  if (nextBtn && OSState.selected === 'windows') {
    nextBtn.disabled = !allRequired;
    nextBtn.style.opacity = allRequired ? '1' : '0.5';
    nextBtn.style.cursor = allRequired ? 'pointer' : 'not-allowed';
  }
}

/* Windows download modal helpers */
function showWindowsDownloadDisclaimer() {
  const m = document.getElementById('win-download-modal');
  if (m) { m.style.display = 'flex'; }
}
function hideWindowsDownloadDisclaimer() {
  const m = document.getElementById('win-download-modal');
  if (m) { m.style.display = 'none'; }
}
// Close Windows modal on backdrop click
document.addEventListener('click', function(e) {
  const m = document.getElementById('win-download-modal');
  if (m && e.target === m) hideWindowsDownloadDisclaimer();
});

// Initialize checklist state on page load
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', () => {
    updateChecklistState();
    OSState.init();
  });
} else {
  updateChecklistState();
  OSState.init();
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PATH SELECTION
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function selectPath(path) {
  document.getElementById('path-same').classList.remove('selected');
  document.getElementById('path-dedicated').classList.remove('selected');
  
  // Show/hide user creation instructions based on path
  var createUserSection = document.getElementById('create-user-section');
  var pathNextBtn = document.getElementById('path-next');
  
  if (path === 'same') {
    document.getElementById('path-same').classList.add('selected');
    if (createUserSection) createUserSection.style.display = 'block';
    if (pathNextBtn) pathNextBtn.textContent = "I'm in the bot account â†’";
  } else {
    document.getElementById('path-dedicated').classList.add('selected');
    if (createUserSection) createUserSection.style.display = 'none';
    if (pathNextBtn) pathNextBtn.textContent = "Got it â†’";
  }
  
  safeSet('clawstarter-path', path);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   COPY COMMAND
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function copyCommand(btn, text) {
  const doCopy = () => {
    if (navigator.clipboard && window.isSecureContext) {
      return navigator.clipboard.writeText(text);
    }
    // Fallback for HTTP or old browsers
    const textarea = document.createElement('textarea');
    textarea.value = text;
    textarea.style.position = 'fixed';
    textarea.style.left = '-9999px';
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
    return Promise.resolve();
  };

  doCopy().then(() => {
    const original = btn.textContent;
    btn.textContent = 'âœ… Copied!';
    btn.classList.add('copied');
    
    setTimeout(() => {
      btn.textContent = original;
      btn.classList.remove('copied');
    }, 2000);
  }).catch(() => {
    alert('Failed to copy. Please copy manually.');
  });
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DOWNLOAD DISCLAIMER MODAL
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function showDownloadDisclaimer() {
  const modal = document.getElementById('download-disclaimer-modal');
  modal.style.display = 'flex';
  document.getElementById('disclaimer-checkbox').checked = false;
  updateDownloadButton();
  
  // Focus trap: focus first interactive element
  const checkbox = document.getElementById('disclaimer-checkbox');
  checkbox.focus();
  
  // Trap focus within modal
  modal.addEventListener('keydown', trapFocus);
}

function hideDownloadDisclaimer() {
  const modal = document.getElementById('download-disclaimer-modal');
  modal.style.display = 'none';
  modal.removeEventListener('keydown', trapFocus);
  
  // Return focus to trigger button
  document.getElementById('download-trigger-btn').focus();
}

function trapFocus(e) {
  if (e.key === 'Escape') {
    hideDownloadDisclaimer();
    return;
  }
  
  if (e.key !== 'Tab') return;
  
  const modal = document.getElementById('download-disclaimer-modal');
  const focusable = modal.querySelectorAll('button, [href], input, [tabindex]:not([tabindex="-1"])');
  const first = focusable[0];
  const last = focusable[focusable.length - 1];
  
  if (e.shiftKey && document.activeElement === first) {
    e.preventDefault();
    last.focus();
  } else if (!e.shiftKey && document.activeElement === last) {
    e.preventDefault();
    first.focus();
  }
}

function updateDownloadButton() {
  const checkbox = document.getElementById('disclaimer-checkbox');
  const btn = document.getElementById('modal-download-btn');
  if (checkbox.checked) {
    btn.style.opacity = '1';
    btn.style.pointerEvents = 'auto';
  } else {
    btn.style.opacity = '0.5';
    btn.style.pointerEvents = 'none';
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   EXPANDABLE SECTIONS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function toggleExpandable(header) {
  const item = header.parentElement;
  item.classList.toggle('open');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INITIALIZATION
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(function init() {
  // Load theme
  const savedTheme = safeGet('theme') || 'dark';
  document.documentElement.setAttribute('data-theme', savedTheme);
  const themeBtn = document.getElementById('themeBtn');
  themeBtn.textContent = savedTheme === 'dark' ? 'â˜€' : 'ğŸŒ™';
  themeBtn.setAttribute('aria-pressed', savedTheme === 'light');
  
  // Load progress
  const savedStep = parseInt(safeGet('clawstarter-current-step')) || 1;
  const savedCompleted = safeGet('clawstarter-completed-steps');
  if (savedCompleted) {
    completedSteps = JSON.parse(savedCompleted);
  }
  
  // Load checklist state
  const check1 = safeGet('check-1') === '1';
  const check2 = safeGet('check-2') === '1';
  const check3 = safeGet('check-3') === '1';
  const check4 = safeGet('check-4') === '1';
  if (check1) document.getElementById('check-1').checked = true;
  if (check2) document.getElementById('check-2').checked = true;
  if (check3) document.getElementById('check-3').checked = true;
  if (check4) document.getElementById('check-4').checked = true;
  
  // Load path selection
  const savedPath = safeGet('clawstarter-path');
  if (savedPath) {
    selectPath(savedPath);
  }
  
  // Show current step
  showStep(savedStep);
})();
</script>

</body>
</html>
